<h2 id="account-store-mapping">Account Store Mapping</h2><p>&quot;Account Store&quot; is a generic term for either a <a href="directory">Directory</a> or a <a href="group">Group</a>. Directories and Groups are both are considered &quot;account stores&quot; because they both contain, or store, Accounts. An &quot;Account Store Mapping&quot;, then, represents an Account Store mapped (<em>assigned</em>) to an Application.</p><p>In Stormpath, you control who may login to an Application by associating (<em>or mapping</em>) one or more account stores to an Application. All of the Accounts across all of an application&#39;s assigned account stores form the application&#39;s effective <em>user base</em>: accounts which can log into the Application. If no account stores are assigned to an Application, no accounts will be able to log into the Application.</p><p>You can control which account stores are assigned (<em>mapped</em>) to an Application, and the order in which they are consulted during a login attempt, by manipulating an application&#39;s AccountStoreMapping resources.</p><p><strong>Since</strong>: 0.1.2</p><hr><p><a name="getApplication"></a></p><h3 id="-span-class-member-method-span-getapplication-options-callback-"><span class="member">method</span> getApplication(<em>[options,]</em> callback)</h3><p>Retrieves the associated Application and provides it to the specified callback.</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">accountStoreMapping.getApplication({ expand: &#39;accounts&#39; }, function(err, app) {
  console.log(app);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter<th>Type<th>Presence<th>Description<th><tbody><tr><td><em><code>options</code></em><td><code>object</code><td><em>optional</em><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion">resource expansion</a>.<tr><td><code>callback</code><td><code>function</code><td>required<td>The callback to execute upon server response. The 1st parameter is an <a href="resourceError">error</a>. The 2nd parameter is an <a href="application">Application</a> instance.</table><h4 id="returns">Returns</h4><p>If the request fails, the callback&#39;s first parameter (<code>err</code>) will report the failure. If the request succeeds, the instance of <a href="application">Application</a> will be provided to the callback as the callback&#39;s second parameter.</p><hr><p><a name="setApplication"></a></p><h3 id="-span-class-member-method-span-setapplication-application-"><span class="member">method</span> setApplication(application)</h3><p>Sets Application as the Account Store Mapping&#39;s Application. <strong>This method doesn&#39;t generate a request to update <code>Account Store Mapping</code>.</strong></p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">accountStoreMapping.setApplication(application);
accountStoreMapping.save(function(err, mapping) {
  console.log(mapping);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter<th>Type<th>Presence<th>Description<th><tbody><tr><td><code>application</code><td>object<td>required<td>The <code>Application</code> that will be associated with <code>Account Store Mapping</code>.</table><hr><p><a name="getAccountStore"></a></p><h3 id="-span-class-member-method-span-getaccountstore-options-callback-"><span class="member">method</span> getAccountStore(<em>[options,]</em> callback)</h3><p>Retrieves the associated Account Store (<em>Group or Directory</em>) and provides it to the specified callback.</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">accountStoreMapping.getAccountStore({ expand: &#39;accounts&#39; }, function(err, store) {
  console.log(store);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter<th>Type<th>Presence<th>Description<th><tbody><tr><td><em><code>options</code></em><td><code>object</code><td><em>optional</em><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion">resource expansion</a>.<tr><td><code>callback</code><td>function<td>required<td>The callback to execute upon server response. The 1st parameter is an <a href="resourceError">error</a>. The 2nd parameter is an <a href="directory">Directory</a> or <a href="group">Group</a> instance.</table><h4 id="returns">Returns</h4><p>If the request fails, the callback&#39;s first parameter (<code>err</code>) will report the failure. If the request succeeds, the instance of <a href="directory">Directory</a> or <a href="group">Group</a> will be provided to the callback as the callback&#39;s second parameter.</p><hr><p><a name="setAccountStore"></a></p><h3 id="-span-class-member-method-span-setaccountstore-accountstore-"><span class="member">method</span> setAccountStore(accountStore)</h3><p>Sets AccountStore (<em>Group or Directory</em>) provided as Account Store Mapping <em>account store</em>. <strong>This method doesn&#39;t generate a request to update Account Store Mapping.</strong></p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">accountStoreMapping.setAccountStore(directory);
accountStoreMapping.save(function(err, mapping) {
  console.log(mapping);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter<th>Type<th>Presence<th>Description<th><tbody><tr><td><code>accountStore</code><td>object<td>required<td>The <code>AccountStore</code> (&#39;Group<code>or</code>Directory<code>) that will be associated with</code>Account Store Mapping`.</table>