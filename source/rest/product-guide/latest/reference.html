

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>REST API Reference &mdash; Stormpath 0.0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="top" title="Stormpath 0.0.1 documentation" href="index.html"/>
        <link rel="prev" title="8. Using ID Site" href="008_idsite.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="001_about.html">1. About Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="001_about.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="001_about.html#the-stormpath-data-model">The Stormpath Data Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="002_setup.html">2. First-Time Set-Up</a><ul>
<li class="toctree-l2"><a class="reference internal" href="002_setup.html#a-sign-up-for-stormpath">a. Sign-up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_setup.html#b-create-an-api-key-pair">b. Create an API Key Pair</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="003_quickstart.html">3. Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#retrieve-your-application">Retrieve Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#create-a-user-account">Create a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#authenticate-a-user-account">Authenticate a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="004_accnt_mgmt.html">4. Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#a-modeling-your-user-base">a. Modeling Your User Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#b-how-to-store-accounts-in-stormpath">b. How to Store Accounts in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#c-how-to-search-accounts">c. How to Search Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#d-how-to-manage-an-account-s-password">d. How to Manage an Account&#8217;s Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#e-how-to-verify-an-account-s-email">e. How to Verify an Account&#8217;s Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#f-customizing-stormpath-emails-via-rest">f. Customizing Stormpath Emails via REST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="005_auth_n.html">5. Authenticating Accounts with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#a-how-password-authentication-works-in-stormpath">a. How Password Authentication Works in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#b-how-token-based-authentication-works">b. How Token-Based Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#c-how-social-authentication-works">c. How Social Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#d-authenticating-against-a-mirrored-ldap-directory">d. Authenticating Against a Mirrored LDAP Directory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="006_auth_z.html">6. Authorization With Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="006_auth_z.html#a-what-is-authorization">a. What is Authorization?</a></li>
<li class="toctree-l2"><a class="reference internal" href="006_auth_z.html#b-modeling-authorization-in-stormpath">b. Modeling Authorization in Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="007_multitenancy.html">7. Multi-Tenancy with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#a-what-is-a-multi-tenant-application">a. What Is a Multi-Tenant Application?</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#b-modeling-tenants-in-stormpath">b. Modeling Tenants in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#c-authenticating-an-account-against-an-organization">c. Authenticating an Account against an Organization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="008_idsite.html">8. Using ID Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#a-what-is-an-id-site">a. What is an ID Site?</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#b-how-does-id-site-work">b. How does ID Site Work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#c-id-site-set-up">c. ID Site Set Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#d-using-id-site-via-rest-api">d. Using ID Site Via REST API</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">REST API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rest-api-core-concepts">REST API Core Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tenant">Tenant</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application">Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#account-store-mapping">Account Store Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#directory">Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#group">Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="#group-membership">Group Membership</a></li>
<li class="toctree-l2"><a class="reference internal" href="#organization">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#account">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-data">Custom Data</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>REST API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/reference.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="rest-api-reference">
<span id="reference"></span><h1>REST API Reference<a class="headerlink" href="#rest-api-reference" title="Permalink to this headline">¶</a></h1>
<p>This section covers the Core Concepts of the Stormpath REST API, as well as serving as a complete reference for all of the Stormpath resources as well as the operations that it is possible to perform with them.</p>
<div class="section" id="rest-api-core-concepts">
<span id="rest-concepts"></span><h2>REST API Core Concepts<a class="headerlink" href="#rest-api-core-concepts" title="Permalink to this headline">¶</a></h2>
<p>The following information is essential to understanding how the Stormpath API functions. You should familiarize yourself with it before moving on to the rest of this guide.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#base-url" id="id37">Base URL</a></li>
<li><a class="reference internal" href="#resource-format" id="id38">Resource Format</a></li>
<li><a class="reference internal" href="#authentication" id="id39">Authentication</a><ul>
<li><a class="reference internal" href="#basic-authentication-over-https" id="id40">Basic Authentication over HTTPS</a></li>
<li><a class="reference internal" href="#digest-authentication" id="id41">Digest Authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-retrieving-updating-and-deleting-resources" id="id42">Creating, Retrieving, Updating, and Deleting Resources</a><ul>
<li><a class="reference internal" href="#creating-resources" id="id43">Creating Resources</a></li>
<li><a class="reference internal" href="#retrieving-resources" id="id44">Retrieving Resources</a></li>
<li><a class="reference internal" href="#updating-resources" id="id45">Updating Resources</a></li>
<li><a class="reference internal" href="#deleting-resources" id="id46">Deleting Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rest-error-responses" id="id47">REST Error Responses</a></li>
<li><a class="reference internal" href="#collection-resources" id="id48">Collection Resources</a><ul>
<li><a class="reference internal" href="#pagination" id="id49">Pagination</a></li>
<li><a class="reference internal" href="#sorting" id="id50">Sorting</a></li>
<li><a class="reference internal" href="#search" id="id51">Search</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links" id="id52">Links</a></li>
</ul>
</div>
<div class="section" id="base-url">
<h3><a class="toc-backref" href="#id37">Base URL</a><a class="headerlink" href="#base-url" title="Permalink to this headline">¶</a></h3>
<p>All URLs referenced in the API documentation begin with the following base URL:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1
</pre></div>
</div>
</div>
<div class="section" id="resource-format">
<h3><a class="toc-backref" href="#id38">Resource Format</a><a class="headerlink" href="#resource-format" title="Permalink to this headline">¶</a></h3>
<p>The Stormpath REST API currently only supports JSON resource representations. If you would like other formats supported, please email us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a> to let us know!</p>
</div>
<div class="section" id="authentication">
<h3><a class="toc-backref" href="#id39">Authentication</a><a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>Every request to the Stormpath REST API must be authenticated with an <strong>API key</strong> over <strong>HTTPS</strong>. HTTP is not supported. If you want to make a REST request to Stormpath, we assume you have already:</p>
<ul class="simple">
<li><a class="reference internal" href="002_setup.html#set-up"><span>Signed up for Stormpath</span></a>.</li>
<li><a class="reference internal" href="002_setup.html#set-up"><span>Obtained your API key</span></a>.</li>
</ul>
<p>When you have an API key, you can choose one of two ways to authenticate with Stormpath:</p>
<ul class="simple">
<li>HTTP Basic authentication</li>
<li>Digest authentication</li>
</ul>
<div class="section" id="basic-authentication-over-https">
<h4><a class="toc-backref" href="#id40">Basic Authentication over HTTPS</a><a class="headerlink" href="#basic-authentication-over-https" title="Permalink to this headline">¶</a></h4>
<p>Most clients (including web browsers) show a dialog or prompt for you to provide a username and password for HTTP Basic authentication.</p>
<p>When using an API key with Basic authentication, the API key ID is the username and the API key secret is the password:</p>
<p><strong>HTTP basic username:</strong> apiKey.id value
<strong>HTTP basic password:</strong> apiKey.secret value</p>
<p>For example, if using cUrl:</p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/current&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="digest-authentication">
<h4><a class="toc-backref" href="#id41">Digest Authentication</a><a class="headerlink" href="#digest-authentication" title="Permalink to this headline">¶</a></h4>
<p>Stormpath also supports a more secure authentication scheme known as <strong>Digest authentication</strong>. This approach computes a cryptographic digest of the request and sends the digest value along with the request. If the transmitted digest matches what the Stormpath API server computes for the same request, the request is authenticated.</p>
<p>This technique is especially secure because the API key secret is never transmitted outside of the application, making it extremely difficult for anything outside of the application to interfere with a request or see the secret.</p>
<p>We recommend using Digest authentication whenever possible because it is inherently more secure. However, due to its complexity, it might not be feasible for some projects.</p>
<p>All Stormpath SDKs (currently Java, Ruby, PHP, and Python) use this more secure Digest authentication so we recommend that you use the SDKs whenever possible. However, if we do not yet have an SDK for your programming language, you should use basic authentication over HTTPS.</p>
<p>Finally, if you would like to use Stormpath Digest authentication in a programming language that Stormpath does not yet support, you can attempt to port the algorithm to that language. You can try to replicate the algorithm and use Stormpath existing code as examples or the documented algorithm:</p>
<ul class="simple">
<li>Java: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-java/blob/master/impl/src/main/java/com/stormpath/sdk/impl/http/authc/SAuthc1RequestAuthenticator.java">SAuthc1RequestAuthenticator</a> (the <strong>authenticate</strong> method)</li>
<li>Node: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-node/blob/master/lib/authc/Sauthc1RequestAuthenticator.js">Sauthc1RequestAuthenticator</a></li>
<li>PHP: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-php/blob/master/src/Http/Authc/SAuthc1RequestSigner.php">Sauthc1Signer</a> (the <strong>signRequest</strong> method)</li>
<li>Python: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-python/blob/master/stormpath/auth.py">Sauthc1Signer</a> (the <strong>call</strong> method)</li>
<li>Ruby: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-ruby/blob/master/lib/stormpath-sdk/http/authc/sauthc1_signer.rb">Sauthc1Signer</a> (the <strong>sign_request</strong> method)</li>
</ul>
<p>If you port the algorithm to other languages, please let us know. We are happy to help. Email us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a> and we will help as best as we can.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Stormpath SAuthc1 digest algorithm is not the same as <a class="reference external" href="http://www.ietf.org/rfc/rfc2617.txt">RFC 2617</a> HTTP Digest authentication. The Stormpath SAuthc1 digest-based authentication scheme is more secure than standard HTTP Digest authentication.</p>
</div>
</div>
</div>
<div class="section" id="creating-retrieving-updating-and-deleting-resources">
<h3><a class="toc-backref" href="#id42">Creating, Retrieving, Updating, and Deleting Resources</a><a class="headerlink" href="#creating-retrieving-updating-and-deleting-resources" title="Permalink to this headline">¶</a></h3>
<p>Stormpath entities have a full set of creation, retrieval, update and deletion actions associated with them. Here we give some information about all of these actions. For a complete description of every resource and the actions that can be performed with it, please see the <a class="reference internal" href="#ref-tenant"><span>below</span></a>.</p>
<div class="section" id="creating-resources">
<h4><a class="toc-backref" href="#id43">Creating Resources</a><a class="headerlink" href="#creating-resources" title="Permalink to this headline">¶</a></h4>
<p>You create a resource by submitting an HTTP <strong>POST</strong> to a resource URL. Any POST body must be represented as <strong>JSON</strong>. Requests that contain body content must specify the HTTP <code class="docutils literal"><span class="pre">Content-Type</span></code> header with a value of <code class="docutils literal"><span class="pre">application/json</span></code>.</p>
<p>Responses to your create POST calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the created entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p id="create-error-codes"><strong>Create POST Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">201</span> <span class="pre">CREATED</span></code></td>
<td>The request was successful, we created a new resource, and the response body contains the representation. The <code class="docutils literal"><span class="pre">Location</span></code> header contains the new resource’s canonical URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>POST is not supported for the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">409</span> <span class="pre">CONFLICT</span></code></td>
<td>You cannot create or update a resource because another resource already exists or conflicts with one you are submitting.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">415</span> <span class="pre">UNSUPPORTED</span> <span class="pre">MEDIA</span> <span class="pre">TYPE</span></code></td>
<td>You did not specify the request <code class="docutils literal"><span class="pre">Content-Type</span></code> header to have a value of <code class="docutils literal"><span class="pre">application/json</span></code>. Only <code class="docutils literal"><span class="pre">application/json</span></code> is currently supported.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieving-resources">
<h4><a class="toc-backref" href="#id44">Retrieving Resources</a><a class="headerlink" href="#retrieving-resources" title="Permalink to this headline">¶</a></h4>
<p>You can retrieve a resource representation by sending a GET.</p>
<p>Responses to your GET calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the requested entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p><strong>GET Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>The request was successful and the response body contains the resource requested.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">302</span> <span class="pre">FOUND</span></code></td>
<td>A common redirect response; you can GET the resource at the URL found in the <code class="docutils literal"><span class="pre">location</span></code> response header.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">304</span> <span class="pre">NOT</span> <span class="pre">MODIFIED</span></code></td>
<td>Your client&#8217;s cached version of the representation is still up-to-date.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="updating-resources">
<h4><a class="toc-backref" href="#id45">Updating Resources</a><a class="headerlink" href="#updating-resources" title="Permalink to this headline">¶</a></h4>
<p>If you want to update a resource, submit an HTTP POST to the resource&#8217;s URL. Any POST body must be represented as JSON. You must submit at least one attribute. As with the creation POST calls, requests that contain body content must specify the HTTP <code class="docutils literal"><span class="pre">Content-Type</span></code> header with a value of <code class="docutils literal"><span class="pre">application/json</span></code>.</p>
<p>Responses to your update POST calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the created entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p><strong>Update POST Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>The request was successful and the response body contains the resource requested.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>POST is not supported for the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">409</span> <span class="pre">CONFLICT</span></code></td>
<td>You cannot create or update a resource because another resource already exists or conflicts with one you are submitting.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">415</span> <span class="pre">UNSUPPORTED</span> <span class="pre">MEDIA</span> <span class="pre">TYPE</span></code></td>
<td>You did not specify the request <code class="docutils literal"><span class="pre">Content-Type</span></code> header to have a value of <code class="docutils literal"><span class="pre">application/json</span></code>. Only <code class="docutils literal"><span class="pre">application/json</span></code> is currently supported.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="deleting-resources">
<h4><a class="toc-backref" href="#id46">Deleting Resources</a><a class="headerlink" href="#deleting-resources" title="Permalink to this headline">¶</a></h4>
<p>To delete a resource, make an HTTP DELETE request to the resource URL. Note that not all Stormpath REST API resources support delete.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If your HTTP does not support the DELETE method, you can simulate it by sending a POST request to the resource endpoint with a <code class="docutils literal"><span class="pre">_method=DELETE</span></code> query string parameter:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="s">&quot;https://api.stormpath.com/v1/applications/$APPLICATION_ID?_method=DELETE&quot;</span>
</pre></div>
</div>
</div>
<p><strong>DELETE Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">204</span> <span class="pre">NO</span> <span class="pre">CONTENT</span></code></td>
<td>The request was successful; the resource was deleted. The deleted resource will not be returned..</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>DELETE is not supported for the resource.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="rest-error-responses">
<h3><a class="toc-backref" href="#id47">REST Error Responses</a><a class="headerlink" href="#rest-error-responses" title="Permalink to this headline">¶</a></h3>
<p>REST API responses indicating an error or warning are represented by a proper response HTTP status code (403, 404, etc) along with a response body containing the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="11%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>Number</td>
<td>The corresponding HTTP status code.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">code</span></code></td>
<td>Number</td>
<td>A <a class="reference external" href="http://docs.stormpath.com/errors">Stormpath-specific error code</a> that can be used to obtain more information.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>A simple, easy to understand message that you can show directly to your application&#8217;s end-user.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">developerMessage</span></code></td>
<td>String</td>
<td>A clear, plain text explanation with technical details that might assist a developer calling the Stormpath API.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">moreInfo</span></code></td>
<td>String</td>
<td>A fully qualified URL that may be accessed to obtain more information about the error.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="collection-resources">
<span id="about-collections"></span><h3><a class="toc-backref" href="#id48">Collection Resources</a><a class="headerlink" href="#collection-resources" title="Permalink to this headline">¶</a></h3>
<p>A <strong>Collection</strong> Resource is a resource containing other resources. It is known as a Collection Resource because it is itself a first class resource – it has its own attributes in addition to the resources it contains.</p>
<p>If you want to interact with multiple resources, you must do so with a Collection Resource. Collection Resources also support additional behavior specific to collections, such as <a class="reference internal" href="#about-pagination"><span>pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, and <a class="reference internal" href="#about-search"><span>searching</span></a>.</p>
<div class="section" id="pagination">
<span id="about-pagination"></span><h4><a class="toc-backref" href="#id49">Pagination</a><a class="headerlink" href="#pagination" title="Permalink to this headline">¶</a></h4>
<p>If a Collection Resource represents a large enough number of resource instances, it will not include them all in a single response. Instead a technique known as pagination is used to break up the results into one or more pages of data. You can request additional pages as separate requests.</p>
<p><em>Query Parameters</em></p>
<p>There are two optional query parameters that may be specified to control pagination:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">offset</span></code>: The zero-based starting index in the entire collection of the first item to return. Default is 0.</li>
<li><code class="docutils literal"><span class="pre">limit</span></code>: The maximum number of collection items to return for a single request. Minimum value is 1. Maximum value is 100. Default is 25.</li>
</ul>
<p><em>Usage</em></p>
<p>This following request will retrieve a Tenant’s Applications Collection Resource from the server with page results starting at index 10 (the 11th element), with a maximum of 40 total elements:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications?offset=10&amp;limit=40&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>This would result in the following response:</p>
<blockquote>
<div><div class="highlight-json"><div class="highlight"><pre>HTTP/1.1 200 OK

{
  &quot;href&quot;: &quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications?offset=10&amp;limit=40&quot;
  &quot;offset&quot;: 10,
  &quot;limit&quot;: 40,
  &quot;items&quot; : [
    [...]
  ]
}
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="sorting">
<span id="about-sorting"></span><h4><a class="toc-backref" href="#id50">Sorting</a><a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h4>
<p>A request for a Collection Resource can contain an optional <code class="docutils literal"><span class="pre">orderBy</span></code> query parameter. The query parameter value is a URL-encoded comma-delimited list of ordering statements. Each ordering statement identifies a <strong>sortable attribute</strong>, and whether you would like the sorting to be <strong>ascending or descending</strong>.</p>
<p>For example, a sorted request (where %2C is the URL encoding for the comma character) might look like this:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications?offset=10&amp;limit=40&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>When URL-decoded, the URL looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts?orderBy=orderStatement1,orderStatement2,...,orderStatementN
</pre></div>
</div>
<p>Each <code class="docutils literal"><span class="pre">orderStatement</span></code> is defined as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>``sortableAttributeName optionalAscendingOrDescendingStatement``
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">sortableAttributeName</span></code> is the name of a sortable attribute of a resource in the Collection. Sortable attributes are non-complex and non-link attributes, such as integers and strings.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">optionalAscendingOrDescendingStatement</span></code> is composed of the following:</dt>
<dd><ul class="first last simple">
<li>a space character (<code class="docutils literal"><span class="pre">%20</span></code> when URL encoded) followed by:</li>
<li><code class="docutils literal"><span class="pre">asc</span></code> (ascending) or <code class="docutils literal"><span class="pre">desc</span></code> (descending)</li>
<li>If not included, <code class="docutils literal"><span class="pre">asc</span></code> is assumed by default</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>So, putting this all together now. If we wanted to sort all Accounts associated with an Application by Surname ascending and given name descending:</p>
<ul class="simple">
<li>our two <code class="docutils literal"><span class="pre">sortableAttributeName</span></code> parameters are: <code class="docutils literal"><span class="pre">surname</span></code> and <code class="docutils literal"><span class="pre">givenName</span></code></li>
<li>our <code class="docutils literal"><span class="pre">optionalAscendingOrDescendingStatement</span></code> is <code class="docutils literal"><span class="pre">asc</span></code> for <code class="docutils literal"><span class="pre">surname</span></code> and <code class="docutils literal"><span class="pre">desc</span></code> for <code class="docutils literal"><span class="pre">givenName</span></code></li>
</ul>
<p>Which would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>orderBy=surname,givenName desc
</pre></div>
</div>
<p>Properly URL encoded it would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/applications/$APPLICATION_ID/accounts?orderBy=surname%20asc%2CgivenName%20desc
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Since <code class="docutils literal"><span class="pre">asc</span></code> is the default, we could actually omit it:</p>
<div class="last highlight-python"><div class="highlight"><pre>?orderBy=surname%2CgivenName%20desc
</pre></div>
</div>
</div>
</div>
<div class="section" id="search">
<span id="about-search"></span><h4><a class="toc-backref" href="#id51">Search</a><a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h4>
<p>Search in the contest of the Stormpath REST API means retrieving only the members of a Collection that match a specific query. You search by sending a GET for a Collection, along with query parameters, and Stormpath returns only the resources from the Collection that match your parameters.</p>
<p>There are currently three different types of searches that might be performed:</p>
<ol class="arabic simple">
<li>A generic <a class="reference internal" href="#search-filter"><span>filter-based search</span></a>.</li>
<li>A more targeted <a class="reference internal" href="#search-attribute"><span>attribute-based search</span></a>.</li>
<li>An even more targeted kind of attribute search, the <a class="reference internal" href="#search-datetime"><span>Datetime</span></a> search.</li>
</ol>
<p>The primary difference between the first two is that the <strong>filter search</strong> matches across all attributes, while <strong>attribute search</strong> looks only for matches in a specified attribute. The <strong>Datetime search</strong> is a kind of attribute search which is used to find resources based on the time they were created or modified. All three options support result <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, <a class="reference internal" href="#about-pagination"><span>pagination</span></a>, and <a class="reference internal" href="#about-links"><span>link expansion</span></a>.</p>
<div class="section" id="filter-search">
<span id="search-filter"></span><h5>Filter Search<a class="headerlink" href="#filter-search" title="Permalink to this headline">¶</a></h5>
<p>A filter search consists of specifying a query parameter <code class="docutils literal"><span class="pre">q</span></code> and a corresponding search value on a Collection Resource URL:</p>
<div class="highlight-python"><div class="highlight"><pre>/v1/RESOURCE_TYPE?q=some+criteria
</pre></div>
</div>
<p>For example, to search across an Application’s Accounts for any Account that has a <a class="reference internal" href="#searchable-attributes"><span>searchable attribute</span></a> containing the text &#8220;Joe&#8221;:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">/accounts?q=Joe&quot;</span>
</pre></div>
</div>
</div></blockquote>
<div class="section" id="matching-logic">
<h6>Matching Logic<a class="headerlink" href="#matching-logic" title="Permalink to this headline">¶</a></h6>
<p>Stormpath will perform a case-insensitive matching query on all viewable attributes in all the resources in the Collection. Note that &#8220;viewable&#8221; means that the attribute can be viewed by the current caller.</p>
<p>So the following query:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts?q=Joe&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Returns all Accounts where:</p>
<ul class="simple">
<li>Each Account is owned by the caller’s Tenant AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">givenName</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">middlename</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">email</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>And so on. For more information about which Account attributes are searchable, please see <a class="reference internal" href="#searchable-attributes"><span>below</span></a>.</li>
</ul>
<p>It may help to think about each attribute comparison as similar to a ‘like’ operation in a traditional relational database context. For example, if SQL was used to execute the query, it might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>select * from my_tenant_accounts where
    (lower(givenName) like &#39;%joe%&#39; OR
     lower(surname) like &#39;%joe%&#39; OR
     lower(email) like &#39;%joe%&#39; OR ... );
</pre></div>
</div>
</div>
</div>
<div class="section" id="attribute-search">
<span id="search-attribute"></span><h5>Attribute Search<a class="headerlink" href="#attribute-search" title="Permalink to this headline">¶</a></h5>
<p>In the above example, our query returned all Accounts that had any searchable attribute with the query in it. It is also possible to tell Stormpath to only return matches from a particular attribute:</p>
<div class="highlight-python"><div class="highlight"><pre>/v1/$RESOURCE_TYPE?anAttribute=someValue&amp;anotherAttribute=anotherValue
</pre></div>
</div>
<p>For example, to search an Application’s Accounts for an Account with a <code class="docutils literal"><span class="pre">givenName</span></code> of <code class="docutils literal"><span class="pre">Joe</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>/v1/applications/$APPLICATION_ID/accounts?givenName=Joe
</pre></div>
</div>
<div class="section" id="searchable-attributes">
<span id="id1"></span><h6>Searchable Attributes<a class="headerlink" href="#searchable-attributes" title="Permalink to this headline">¶</a></h6>
<p>The following attributes can be filtered by and searched for:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Searchable Attributes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Application</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-odd"><td>Directory</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-even"><td>Account</td>
<td><code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>, <code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-odd"><td>Group</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-even"><td>Organization</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h6>Matching Logic<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h6>
<p>Attribute-based queries use standard URL query parameters and function as follows:</p>
<ul>
<li><p class="first">Each query parameter name is the same name of a <a class="reference internal" href="#searchable-attributes"><span>searchable attribute</span></a> on an instance in the Collection Resource.</p>
</li>
<li><p class="first">A query parameter value triggers one of four types of matching criteria:</p>
<blockquote>
<div><ol class="arabic simple">
<li>No asterisk at the beginning or end of the value indicates a direct case-insensitive match.</li>
<li>An asterisk only at the beginning of the value indicates that the case-insensitive value is at the end.</li>
<li>An asterisk only at the end of the value indicates that the case-insensitive value is at the beginning.</li>
<li>An asterisk at the end AND at the beginning of the value indicates the value is contained in the string.</li>
</ol>
</div></blockquote>
</li>
</ul>
<p>So the following query:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts?givenName=Joe&amp;middleName=*aul&amp;surname=*mit*&amp;email=joePaul*&amp;status=disabled&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Returns all accounts where:</p>
<ul class="simple">
<li>Each Account is owned by the caller Tenant.</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">givenName</span></code> is equal to &#8220;Joe&#8221; (case insensitive) AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">middleName</span></code> ends with &#8220;aul&#8221; (case insensitive) AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">surname</span></code> equals or contains &#8220;mit&#8221; (case insensitive) AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">email</span></code> starts with with &#8220;joePaul&#8221; (case insensitive) AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> equals &#8220;disabled&#8221; (case insensitive).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For resources with a <code class="docutils literal"><span class="pre">status</span></code> attribute, status query values must be the exact value. For example, <code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code> must be passed, while fragments such as <code class="docutils literal"><span class="pre">ena</span></code>, <code class="docutils literal"><span class="pre">dis</span></code>, <code class="docutils literal"><span class="pre">bled</span></code> are not acceptable.</p>
</div>
</div>
</div>
<div class="section" id="datetime-search">
<span id="search-datetime"></span><h5>Datetime Search<a class="headerlink" href="#datetime-search" title="Permalink to this headline">¶</a></h5>
<p>The Datetime search is a sub-type of the attribute search that allows you to filter or search collections that were created or modified at a particular time.</p>
<p>Stormpath exposes attributes on all resources that will give you information about when the resource was created or modified. For example, an Account resource will have the <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> attributes:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/$ACCOUNT_ID&quot;</span><span class="p">,</span>
  <span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="s2">&quot; // This JSON has been truncated for readability&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;emailVerificationToken&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/$ACCOUNT_ID/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="s2">&quot;...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Stormpath stores the datetime in <a class="reference external" href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> which is human readable and has common support across all languages. The timezone is coordinated universal time (UTC). So a datetime range would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">ISO</span><span class="o">-</span><span class="mi">8601</span><span class="o">-</span><span class="n">BEGIN</span><span class="o">-</span><span class="n">DATETIME</span><span class="p">,</span> <span class="n">ISO</span><span class="o">-</span><span class="mi">8601</span><span class="o">-</span><span class="n">END</span><span class="o">-</span><span class="n">DATETIME</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Omitting the beginning or ending date is valid for requests. Omitting the begin datetime range [,ISO-8601-END-DATETIME] would include all resources created or modified before the end datetime. Omitting the end datetime range [ISO-8601-BEGIN-DATETIME,] would include all resources created or modified after the the begin datetime.</p>
</div>
<p>As an example, if you want wanted to get all Accounts created between January 12, 2015 and January 14, 2015 your query would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>/v1/applications/$APPLICATION_ID/accounts?createdAt=[2015-01-12, 2015-01-14]
</pre></div>
</div>
<p>The response would be a Collection of Accounts created between the two days.</p>
<div class="section" id="exclusion-vs-inclusion">
<h6>Exclusion vs Inclusion<a class="headerlink" href="#exclusion-vs-inclusion" title="Permalink to this headline">¶</a></h6>
<p>The square brackets [] denote <strong>inclusion</strong>, but <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> also support <strong>exclusion</strong> with parentheses (). For example, if you wanted to get all accounts created between Jan 12, 2015 and Jan 14, 2015 not including the 14th, your request would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>v1/applications/$APPLICATION_ID/accounts?createdAt=[2015-01-12, 2015-01-14)
</pre></div>
</div>
</div>
<div class="section" id="precision">
<h6>Precision<a class="headerlink" href="#precision" title="Permalink to this headline">¶</a></h6>
<p>The precision of your query is controlled by the granularity of the <a class="reference external" href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> Datetime that you specify.</p>
<p>For example, if you need precision in seconds:</p>
<div class="highlight-python"><div class="highlight"><pre>?createdAt=[2015-01-12T12:00:00, 2015-01-12T12:00:05]
</pre></div>
</div>
<p>And, if you need precision in years:</p>
<div class="highlight-python"><div class="highlight"><pre>?createdAt=[2014, 2015]
</pre></div>
</div>
</div>
<div class="section" id="shorthand">
<h6>Shorthand<a class="headerlink" href="#shorthand" title="Permalink to this headline">¶</a></h6>
<p>It is also possible to use shorthand with ranges of <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> to simplify the query parameter. This is useful for queries where the range can be encapsulated in a particular year, month, day, hour, minute or second.</p>
<p>For example if you wanted all accounts created in Jan 2015, instead of:</p>
<div class="highlight-python"><div class="highlight"><pre>?createdAt=[2015-01-01T00:00:00.000Z,2015-02-01T00:00:00.000)
</pre></div>
</div>
<p>You could just write:</p>
<div class="highlight-python"><div class="highlight"><pre>?createdAt=2015-01
</pre></div>
</div>
<p>And if you want all Accounts modified on the 12th hour UTC on Feb 03, 2015, instead of this query:</p>
<div class="highlight-python"><div class="highlight"><pre>?modifiedAt=[2015-02-03T12:00:00.000Z, 2015-02-04T13:00:00.000)
</pre></div>
</div>
<p>You can simply write:</p>
<div class="highlight-python"><div class="highlight"><pre>?modifiedAt=2015-02-03T12
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="links">
<span id="about-links"></span><h3><a class="toc-backref" href="#id52">Links</a><a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h3>
<p>REST resources that reference other resources, such as an Account referencing its parent Directory, represent the references as a <strong>Link</strong> object.</p>
<p>A Link is an object nested within an existing resource representation that has, at a minimum, an <code class="docutils literal"><span class="pre">href</span></code> attribute.</p>
<p>The <code class="docutils literal"><span class="pre">href</span></code> attribute is the fully qualified location URL of the linked resource. When encountering a link object, you can use the link <code class="docutils literal"><span class="pre">href</span></code> attribute to interact with that resource as necessary.</p>
<p><strong>Link Expansion</strong></p>
<p>When requesting a resource you might want the Stormpath API server to return not only that resource, but also one or more of its linked resources. Link expansion allows you to retrieve related resources in a single request to the server instead of having to issue multiple separate requests.</p>
<p>To expand one or more links, simply add an <code class="docutils literal"><span class="pre">expand</span></code> query parameter with one or more comma-delimited attributes to the resource URL:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID?expand=directory,tenant
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is currently only possible to expand a resource’s immediate links but not further links inside those links.</p>
</div>
<p><strong>Paginating Expanded Collections</strong></p>
<p>If you choose to expand one or more Collections, you can provide <a class="reference internal" href="#about-pagination"><span>pagination</span></a> parameters as well. The <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> values are enclosed in parentheses and delimited by the colon <code class="docutils literal"><span class="pre">:</span></code> character. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID?expand=groups(offset:0,limit:10)
</pre></div>
</div>
</div>
</div>
<div class="section" id="tenant">
<span id="ref-tenant"></span><h2>Tenant<a class="headerlink" href="#tenant" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id3">
<ul class="simple">
<li><a class="reference internal" href="#tenant-operations" id="id53">Tenant Operations</a><ul>
<li><a class="reference internal" href="#retrieve-a-tenant" id="id54">Retrieve A Tenant</a></li>
<li><a class="reference internal" href="#using-a-tenant-for-look-up" id="id55">Using A Tenant for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-a-tenant" id="id56">Other Resources Associated with a Tenant</a><ul>
<li><a class="reference internal" href="#ref-id-site" id="id57">ID Site</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>When you sign up for Stormpath, a private data space is created for you. This space is represented as a Tenant resource in the Stormpath REST API. Your Tenant resource can be thought of as your global starting point. You can access everything in your space by accessing your Tenant resource first and then interacting with its other linked resources (Applications, Directories, etc).</p>
<p><strong>Tenant URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/tenants/$TENANT_ID</span></code></p>
<p><strong>Tenant Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>Name of the Tenant, by default this is the same as the key, but can be modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">key</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 63 characters</td>
<td>Human-readable unique key. This key is unique and assigned by Stormpath. If you would like to change it, please contact Stormpath. The key must have: no whitespace, lower-case a-z and dash ‘–’ characters only, and it cannot start or end with a dash ‘–’ character.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to the Tenant&#8217;s customData resource that you can use to store your own custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">organizations</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the Organizations mapped to this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the Applications mapped to this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directories</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the Directories mapped to this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of the Accounts mapped to this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">agents</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the Agents configured for this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the Groups configured for this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">idSites</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the ID Sites configured for this Tenant.</td>
</tr>
</tbody>
</table>
<p><strong>Tenant Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tenantName&quot;</span><span class="p">,</span>
  <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;tenantKey&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;dateTime&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;dateTime&quot;</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;organizations&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/organizations&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directories&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/directories&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;agents&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/agents&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;idSites&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/idSites&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="tenant-operations">
<h3><a class="toc-backref" href="#id53">Tenant Operations</a><a class="headerlink" href="#tenant-operations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="retrieve-a-tenant">
<h4><a class="toc-backref" href="#id54">Retrieve A Tenant</a><a class="headerlink" href="#retrieve-a-tenant" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/current</td>
<td>N/A</td>
<td>Retrieves the Tenant associated with the current API key. The response will be a <code class="docutils literal"><span class="pre">302</span> <span class="pre">Redirect</span></code>. You will find the location of the Tenant in a Location header, although most REST libraries and web browsers will automatically issue a request for it.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$TENANT_ID</td>
<td>N/A</td>
<td>Retrieves the Tenant with the specified ID.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="using-a-tenant-for-look-up">
<h4><a class="toc-backref" href="#id55">Using A Tenant for Look-Up</a><a class="headerlink" href="#using-a-tenant-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other independent resources using the Tenant for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$TENANT_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a collection of all of a Tenant&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">organizations</span></code>, <code class="docutils literal"><span class="pre">applications</span></code>, <code class="docutils literal"><span class="pre">directories</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">agents</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>, and <code class="docutils literal"><span class="pre">idsites</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$TENANT_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Tenant&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Searchable collections associated with a Tenant are: <code class="docutils literal"><span class="pre">customData</span></code>, <code class="docutils literal"><span class="pre">organizations</span></code>, <code class="docutils literal"><span class="pre">applications</span></code>, <code class="docutils literal"><span class="pre">directories</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">agents</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>, and <code class="docutils literal"><span class="pre">idsites</span></code>.</td>
</tr>
</tbody>
</table>
<div class="section" id="example-queries">
<h5>Example Queries<a class="headerlink" href="#example-queries" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieving a Collection Associated with a Tenant</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/</span><span class="nv">$TENANT_ID</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a collection containing all the Accounts associated with the specified Tenant.</p>
<p><strong>Searching a Collection Associated with a Tenant</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/</span><span class="nv">$TENANT_ID</span><span class="s2">/applications?q=foo&amp;orderBy=name&amp;offset=0&amp;limit=50&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a collection containing the Applications associated with this Tenant that have the string &#8220;foo&#8221; as the value of any <a class="reference internal" href="#searchable-attributes"><span>searchable attribute</span></a>.</p>
<p>The result body would:</p>
<blockquote>
<div><ul class="simple">
<li>be <a class="reference internal" href="#about-sorting"><span>sorted</span></a> by the <code class="docutils literal"><span class="pre">name</span></code> attribute</li>
<li>have a <a class="reference internal" href="#about-pagination"><span>pagination</span></a> offset of 0 and</li>
<li>a limit of 50 results per response</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="other-resources-associated-with-a-tenant">
<h3><a class="toc-backref" href="#id56">Other Resources Associated with a Tenant</a><a class="headerlink" href="#other-resources-associated-with-a-tenant" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ref-id-site">
<span id="id-site"></span><h4><a class="toc-backref" href="#id57">ID Site</a><a class="headerlink" href="#ref-id-site" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about this Tenant&#8217;s ID Site. For more information, see <a class="reference internal" href="008_idsite.html#idsite"><span>8. Using ID Site</span></a>.</p>
<p><strong>idSite URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/idSites/$IDSITE_ID</span></code></p>
<p><strong>idSite Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">domainName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The custom domain name (if any) for your ID Site. For more information see <a class="reference internal" href="008_idsite.html#idsite-custom-domain-ssl"><span>Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tlsPublicCert</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The public SSL certificate for your ID Site. For more information see <a class="reference internal" href="008_idsite.html#idsite-custom-domain-ssl"><span>Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tlsPrivateKey</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The private SSL certificate for your ID Site. For more information see <a class="reference internal" href="008_idsite.html#idsite-custom-domain-ssl"><span>Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">gitRepoUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>If you are customizing the ID Site code, you will need to put the URL of your GitHub repo here.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">gitBranch</span></code></td>
<td>String</td>
<td>N/A</td>
<td>If you are customizing the ID Site code, you will need to put the branch name of the custom code here.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">authorizedOriginURLs</span></code></td>
<td>Array (String)</td>
<td>N/A</td>
<td>An array of URLs where the ID Site requests can originate from, used for local development or custom domain names.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">authorizedRedirectURLs</span></code></td>
<td>Array (String)</td>
<td>N/A</td>
<td>An array of URLs that the user can be sent to after they log in or register at the ID Site.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">logoUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The URL of the custom logo, if any.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sessionTti</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-idle for the session. Represents the session idle timeout as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sessionTtl</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-live for the session. Represents the session timeout as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sessionCookiePersistent</span></code></td>
<td>String (Boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">false</span></code></td>
<td>When this value is <code class="docutils literal"><span class="pre">true</span></code>, Stormpath will create a persistent cookie for the ID Site session. This means that the cookie will persist even if the browser is closed and reopened. Setting this <code class="docutils literal"><span class="pre">false</span></code> will ensure that the session is terminated when the user closes their browser.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant associated with this ID Site.</td>
</tr>
</tbody>
</table>
<p><strong>idSite Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/idSites/1XBJMqDmsNQuOZ18gNCT42&quot;</span><span class="p">,</span>
  <span class="nt">&quot;domainName&quot;</span><span class="p">:</span><span class="s2">&quot;elastic-rebel.id.stormpath.io&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tlsPublicCert&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tlsPrivateKey&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gitRepoUrl&quot;</span><span class="p">:</span><span class="s2">&quot;https://github.com/stormpath/idsite&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gitBranch&quot;</span><span class="p">:</span><span class="s2">&quot;master&quot;</span><span class="p">,</span>
  <span class="nt">&quot;authorizedOriginURLs&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;http://google.com&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;authorizedRedirectURLs&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;http://localhost&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://limitless-ravine-7645.herokuapp.com/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://stormpath.localhost:8001&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;logoUrl&quot;</span><span class="p">:</span><span class="s2">&quot;http://www.manic.com.sg/blog/images/CocaCola_co.jpg&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionTti&quot;</span><span class="p">:</span><span class="s2">&quot;PT5M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionTtl&quot;</span><span class="p">:</span><span class="s2">&quot;PT5M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionCookiePersistent&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/7g9HG1YMBX8ohFbu0KAFKR&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="application">
<span id="ref-application"></span><h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id5">
<ul class="simple">
<li><a class="reference internal" href="#application-operations" id="id58">Application Operations</a><ul>
<li><a class="reference internal" href="#create-an-application" id="id59">Create An Application</a></li>
<li><a class="reference internal" href="#retrieve-an-application" id="id60">Retrieve an Application</a></li>
<li><a class="reference internal" href="#update-an-application" id="id61">Update an Application</a></li>
<li><a class="reference internal" href="#delete-an-application" id="id62">Delete an Application</a></li>
<li><a class="reference internal" href="#using-an-application-for-look-up" id="id63">Using an Application for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-endpoints" id="id64">Application Endpoints</a><ul>
<li><a class="reference internal" href="#login-attempts" id="id65">Login Attempts</a></li>
<li><a class="reference internal" href="#password-reset-tokens" id="id66">Password Reset Tokens</a></li>
<li><a class="reference internal" href="#verification-email" id="id67">Verification Email</a></li>
<li><a class="reference internal" href="#auth-tokens" id="id68">Auth Tokens</a></li>
<li><a class="reference internal" href="#oauth-token" id="id69">OAuth Token</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-an-application" id="id70">Other Resources Associated with an Application</a><ul>
<li><a class="reference internal" href="#application-api-keys" id="id71">Application API Keys</a></li>
<li><a class="reference internal" href="#oauth-policy" id="id72">OAuth Policy</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>An <strong>Application</strong> resource in Stormpath contains information about any real-world software that communicates with Stormpath via REST APIs. You control who may log in to an application by assigning (or ‘mapping’) one or more Directory, Group, or Organization resources (generically called Account Stores) to an Application resource. The Accounts in these associated Account Stores collectively form the application’s user base.</p>
<p><strong>Application URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID</span></code></p>
<p><strong>Application Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>Name of the Application. Must be unique across all Applications within a Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt;= N &lt;= 4000 chars</td>
<td>A description of the application that this resource represents.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> (Default), <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> applications allow mapped Accounts to log in. <code class="docutils literal"><span class="pre">DISABLED</span></code> Applications prevent mapped Accounts from logging in.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to the Tenant that owns this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">defaultAccountStoreMapping</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>Could be <code class="docutils literal"><span class="pre">null</span></code></td>
<td>A link to the Account Store Mapping that reflects the default Account Store where the application will store newly created Accounts. A <code class="docutils literal"><span class="pre">null</span></code> value disables the application from directly creating new Accounts.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultGroupStoreMapping</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>Could be <code class="docutils literal"><span class="pre">null</span></code></td>
<td>A link to the Account Store Mapping that reflects the default Group Store where the application will store newly created Groups. A <code class="docutils literal"><span class="pre">null</span></code> value disables the application from directly creating new Groups.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to the Tenant&#8217;s customData resource that you can use to store your own custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">oAuthPolicy</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>&nbsp;</td>
<td>A link to this Application OAuth policy. For more information, see <a class="reference internal" href="005_auth_n.html#token-authn-config"><span>Using Stormpath for Token-Based Authentication</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-account"><span>Accounts</span></a> mapped to this Application. (see note <a class="reference internal" href="#application-accounts-note"><span>below</span></a>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-group"><span>Groups</span></a> mapped to this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountStoreMappings</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A link to the collection of all <a class="reference internal" href="#ref-account-store-mapping"><span>Account Store Mappings</span></a> for this Application.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">loginAttempts</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The endpoint for <a class="reference internal" href="#ref-loginattempts"><span>Login Attempts</span></a> for this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passwordResetTokens</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The endpoint for <a class="reference internal" href="#ref-password-reset-token"><span>Password Reset Tokens</span></a>, used in <a class="reference internal" href="004_accnt_mgmt.html#password-reset-flow"><span>password reset workflows</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">apiKeys</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A collection of all the API Keys for this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationEmails</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>The endpoint for Verification Emails for this Application.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">authTokens</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span>Link</span></a>)</td>
<td>N/A</td>
<td>A collection of Auth Tokens for this Application. For more information, see <a class="reference internal" href="005_auth_n.html#about-token-validation"><span>Using Stormpath to Validate Tokens</span></a>.</td>
</tr>
</tbody>
</table>
<div class="admonition note" id="application-accounts-note">
<p class="first admonition-title">Note</p>
<p>An Application’s Accounts collection is a virtual collection in the sense that none of the Accounts directly belong to the Application, but only indirectly via Directories. So the <code class="docutils literal"><span class="pre">applications/$APPLICATION_ID/accounts</span></code> collection is an aggregate view of all Accounts that are:</p>
<ul class="last simple">
<li>in any Directory assigned to the Application</li>
<li>in any Group directly assigned to the Application</li>
</ul>
</div>
<p><strong>Application Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Application&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This application was automatically created for you in Stormpath for use with our Quickstart guides(https://docs.stormpath.com). It does apply to your subscription&#39;s number of reserved applications and can be renamed or reused for your own purposes.&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-18T20:46:36.061Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T18:11:29.774Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultAccountStoreMapping&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/5WKhSDXNR8Wiksjv808XHp&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultGroupStoreMapping&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/5WKhSDXNR8Wiksjv808XHp&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;oAuthPolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/oAuthPolicies/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountStoreMappings&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/accountStoreMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;loginAttempts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/loginAttempts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;passwordResetTokens&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/passwordResetTokens&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;apiKeys&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/apiKeys&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;verificationEmails&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/verificationEmails&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;authTokens&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/authTokens&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="application-operations">
<h3><a class="toc-backref" href="#id58">Application Operations</a><a class="headerlink" href="#application-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id6">
<ul class="simple">
<li><a class="reference internal" href="#create-an-application" id="id73">Create An Application</a></li>
<li><a class="reference internal" href="#retrieve-an-application" id="id74">Retrieve an Application</a></li>
<li><a class="reference internal" href="#update-an-application" id="id75">Update an Application</a></li>
<li><a class="reference internal" href="#delete-an-application" id="id76">Delete an Application</a></li>
<li><a class="reference internal" href="#using-an-application-for-look-up" id="id77">Using an Application for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-application">
<h4><a class="toc-backref" href="#id73">Create An Application</a><a class="headerlink" href="#create-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/applications</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td><code class="docutils literal"><span class="pre">createDirectory</span></code>: either <code class="docutils literal"><span class="pre">true</span></code> or a specified &#8220;Directory Name&#8221;</td>
<td>Creates a new Application resource. If <code class="docutils literal"><span class="pre">createDirectory</span></code> is set to <code class="docutils literal"><span class="pre">true</span></code>, a new Directory will be automatically created along with the Application. The generated Directory&#8217;s <code class="docutils literal"><span class="pre">name</span></code> will reflect the new Application’s <code class="docutils literal"><span class="pre">name</span></code> as best as is possible, guaranteeing that it is unique compared to any of your existing Directories. If you would like a different <code class="docutils literal"><span class="pre">name</span></code>, simply put value you would like instead of <code class="docutils literal"><span class="pre">true</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the Directory name you choose is already in use by another of your existing Directories, the request will fail.</p>
</div>
</div>
<div class="section" id="retrieve-an-application">
<h4><a class="toc-backref" href="#id74">Retrieve an Application</a><a class="headerlink" href="#retrieve-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/applications/$APPLICATION_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Application resource. <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code> can all be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-application">
<h4><a class="toc-backref" href="#id75">Update an Application</a><a class="headerlink" href="#update-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/applications/$APPLICATION_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-application">
<h4><a class="toc-backref" href="#id76">Delete an Application</a><a class="headerlink" href="#delete-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/applications/$APPLICATION_ID</td>
<td>N/A</td>
<td>Deletes the specified Application.</td>
</tr>
</tbody>
</table>
<p>Deleting an application completely erases the application and any of its related data from Stormpath.</p>
<p>Instead of deleting an Application resource, we recommend that you disable it instead by sending a POST with a <code class="docutils literal"><span class="pre">status</span></code> value of &#8220;DISABLED&#8221;.</p>
<div class="section" id="id7">
<h5>Example Queries<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieve an Application</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">?expand=tenant,accounts(offset:0,limit:50)&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the specified Application, with the associated Tenant resource and Accounts collection expanded. The expanded Accounts collection would be returned with an <code class="docutils literal"><span class="pre">offset</span></code> of 0 and a result <code class="docutils literal"><span class="pre">limit</span></code> of 50.</p>
<p><strong>Disable an Application</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">&quot;status&quot;:&quot;disabled&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would disable the Application and prevent any associated Accounts from logging in.</p>
</div>
</div>
<div class="section" id="using-an-application-for-look-up">
<span id="get-refs-via-app"></span><h4><a class="toc-backref" href="#id77">Using an Application for Look-Up</a><a class="headerlink" href="#using-an-application-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, independent, resources using the Application for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$APPLICATION_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a resource of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>. These collections can also be <a class="reference internal" href="#about-pagination"><span>paginated</span></a> and <a class="reference internal" href="#about-sorting"><span>sorted</span></a>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$APPLICATION_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Application&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Searchable collections associated with an Application are: <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="application-endpoints">
<h3><a class="toc-backref" href="#id64">Application Endpoints</a><a class="headerlink" href="#application-endpoints" title="Permalink to this headline">¶</a></h3>
<p>There are certain resources that are exposed by the Application as endpoints. This means that they cannot be retrieved using <code class="docutils literal"><span class="pre">GET</span></code> calls <a class="reference internal" href="#get-refs-via-app"><span>like other resources</span></a>, but are instead used for other flows. These are detailed in this section.</p>
<div class="section" id="login-attempts">
<span id="ref-loginattempts"></span><h4><a class="toc-backref" href="#id65">Login Attempts</a><a class="headerlink" href="#login-attempts" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">POST</span></code> is sent to this endpoint in order to authenticate an Account. For in-depth more information, please see <a class="reference internal" href="005_auth_n.html#how-login-works"><span>How Login Attempts Work in Stormpath</span></a>.</p>
<p><strong>loginAttempts URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/loginAttempts</span></code></p>
<p><strong>loginAttempts Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">type</span></code></td>
<td>String (Enum)</td>
<td>N/A</td>
<td>The type of the login attempt. The only currently supported type is <code class="docutils literal"><span class="pre">basic</span></code>. Additional types will likely be supported in the future.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">value</span></code></td>
<td>String (Base64)</td>
<td>N/A</td>
<td>The Base64 encoded <code class="docutils literal"><span class="pre">username</span></code>:<code class="docutils literal"><span class="pre">plaintextPassword</span></code> pair.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountStore</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">href</span></code> or <code class="docutils literal"><span class="pre">nameKey</span></code></td>
<td>An optional link to the Application’s Account Store (Organization, Directory, Group) OR Organization <code class="docutils literal"><span class="pre">nameKey</span></code>. You should be certain that the specified Account Store contains the Account attempting to login.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Specifying the <code class="docutils literal"><span class="pre">accountStore</span></code> can speed up logins if you know exactly which of the Application’s assigned Account Stores contains the Account. Stormpath will not have to iterate over the assigned Account Stores to find the Account to authenticate it. This can speed up logins significantly if you have many Account Stores (&gt; 15) assigned to the Application.</p>
</div>
<p><strong>loginAttempts Example</strong></p>
<p>This is an example of a well-formed JSON body that could be sent to the <code class="docutils literal"><span class="pre">/loginAttempts</span></code> endpoint.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span>
    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;YmFzZTY0LWVuY29kZWQtbG9naW4tYW5kLXBhc3N3b3Jk&quot;</span>
    <span class="s2">&quot;accountStore&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/$YOUR_GROUP_ID&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="password-reset-tokens">
<span id="ref-password-reset-token"></span><h4><a class="toc-backref" href="#id66">Password Reset Tokens</a><a class="headerlink" href="#password-reset-tokens" title="Permalink to this headline">¶</a></h4>
<p>This is the endpoint for Password Reset Tokens that are passed as part of the <a class="reference internal" href="004_accnt_mgmt.html#password-reset-flow"><span>Password Reset Flow</span></a>. When you send a POST to an Application&#8217;s <code class="docutils literal"><span class="pre">/passwordResetTokens</span></code> endpoint with a valid email address (and, optionally, accountStore information), you will receive back the Password Reset Token. For a full description, please see the <a class="reference internal" href="004_accnt_mgmt.html#password-reset-flow"><span>Password Reset Flow</span></a> section.</p>
<p><strong>passwordResetTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/passwordResetTokens</span></code></p>
<p><strong>passwordResetTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">email</span></code></td>
<td>String</td>
<td>Must correspond to an existing Stormpath Account.</td>
<td>Email address of the Account for which the password reset will occur. This is the value that must be passed in order to trigger the token generation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account for which the password reset will occur.</td>
</tr>
</tbody>
</table>
<p><strong>passwordResetTokens Example</strong></p>
<p>This is an example of the JSON response to a successful POST to the <code class="docutils literal"><span class="pre">/passwordResetTokens</span></code> endpoint.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR/passwordResetTokens/eyJraWQiOiIxZ0JUbmNXc3AyT2JRR2dEbjlSOTFSIiwiYWxnIjoiSFMeXAMpLE.eyJleHAiOjE0NDc4ODU1ODIsImp0aSI6IjFucDE1UkJVTXJQR0FxSlVpOGVJYlEifQ.AiL5ejbhPnjzxOWZkZGrAfYP8KvqT62r_zktvlkGQE0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;capt@enterprise.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="verification-email">
<span id="ref-verification-email"></span><h4><a class="toc-backref" href="#id67">Verification Email</a><a class="headerlink" href="#verification-email" title="Permalink to this headline">¶</a></h4>
<p>This endpoint is used to trigger the resending of a verification email. For more information, see <a class="reference internal" href="004_accnt_mgmt.html#resending-verification-email"><span>Resending The Verification Email</span></a>.</p>
</div>
<div class="section" id="auth-tokens">
<h4><a class="toc-backref" href="#id68">Auth Tokens</a><a class="headerlink" href="#auth-tokens" title="Permalink to this headline">¶</a></h4>
<p>This endpoint is used for token validation. For more information see <a class="reference internal" href="005_auth_n.html#about-token-validation"><span>Using Stormpath to Validate Tokens</span></a>.</p>
</div>
<div class="section" id="oauth-token">
<span id="ref-oauth-token"></span><h4><a class="toc-backref" href="#id69">OAuth Token</a><a class="headerlink" href="#oauth-token" title="Permalink to this headline">¶</a></h4>
<p>This endpoint&#8217;s URL is found as part of the <a class="reference internal" href="#ref-oauth-policy"><span>OAuth Policy</span></a> resource. It is used to generate OAuth 2.0 tokens. For more information see <a class="reference internal" href="005_auth_n.html#token-authn-config"><span>Using Stormpath for Token-Based Authentication</span></a>.</p>
</div>
</div>
<div class="section" id="other-resources-associated-with-an-application">
<h3><a class="toc-backref" href="#id70">Other Resources Associated with an Application</a><a class="headerlink" href="#other-resources-associated-with-an-application" title="Permalink to this headline">¶</a></h3>
<p>These are the other resources that can be found associated with any particular Application.</p>
<div class="section" id="application-api-keys">
<span id="ref-application-apikeys"></span><h4><a class="toc-backref" href="#id71">Application API Keys</a><a class="headerlink" href="#application-api-keys" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">GET</span></code> can be sent to this endpoint along with an <a class="reference internal" href="#ref-account-apikeys"><span>API Key</span></a> ID, in order to retrieve the Account associated with that API Key.</p>
<p><strong>Application apiKeys URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/apiKeys?id=$API_KEY_ID</span></code></p>
<p>If you would like to retrieve the API Key with the <a class="reference internal" href="#ref-account"><span>Account</span></a> expanded you can include the <code class="docutils literal"><span class="pre">?expand=account</span></code> parameter.</p>
<p><strong>Application apiKeys Attributes</strong></p>
<p>This call would return an <a class="reference internal" href="#ref-account-apikeys"><span>API Key</span></a>.</p>
</div>
<div class="section" id="oauth-policy">
<span id="ref-oauth-policy"></span><h4><a class="toc-backref" href="#id72">OAuth Policy</a><a class="headerlink" href="#oauth-policy" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about the Application&#8217;s OAuth Policy. For more information about how this is used, see <a class="reference internal" href="005_auth_n.html#token-authn-config"><span>Using Stormpath for Token-Based Authentication</span></a>.</p>
<p><strong>oAuthPolicy URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/oAuthPolicies/$DIRECTORY_ID</span></code></p>
<p><strong>oAuthPolicy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accessTokenTtl</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-live for the OAuth Access Token, represented as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">refreshTokenTtl</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-live for the OAuth Refresh Token, represented as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tokenEndpoint</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The location of the <a class="reference internal" href="#ref-oauth-token"><span>OAuth Token</span></a> generation endpoint.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Application associated with this Policy.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant associated with this Policy.</td>
</tr>
</tbody>
</table>
<p><strong>oAuthPolicy Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/oAuthPolicies/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;accessTokenTtl&quot;</span><span class="p">:</span><span class="s2">&quot;PT30M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refreshTokenTtl&quot;</span><span class="p">:</span><span class="s2">&quot;P7D&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-18T20:46:36.063Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-09-01T14:18:14.709Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tokenEndpoint&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/oauth/token&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDexAMPLE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="account-store-mapping">
<span id="ref-account-store-mapping"></span><h2>Account Store Mapping<a class="headerlink" href="#account-store-mapping" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id10">
<ul class="simple">
<li><a class="reference internal" href="#account-store-mapping-operations" id="id78">Account Store Mapping Operations</a><ul>
<li><a class="reference internal" href="#create-an-account-store-mapping" id="id79">Create an Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-account-store-mapping" id="id80">Retrieve an Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-account-store-mapping" id="id81">Update an Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-account-store-mapping" id="id82">Delete an Account Store Mapping</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>In Stormpath, you control who may log in to an Application by associating (or &#8216;mapping&#8217;) one or more Account Stores to an Application. All of the user Accounts across all of an Application&#8217;s assigned Account Stores form the Application&#8217;s effective &#8220;user base&#8221;: those Accounts that may log in to the Application. If no Account Stores are assigned to an Application, no Accounts will be able to log in to it. The following resources may be mapped as Account Stores:</p>
<ul class="simple">
<li>Organization</li>
<li>Directory</li>
<li>Group</li>
</ul>
<p>An individual Account Store Mapping resource may be accessed via its Resource URL:</p>
<p><strong>accountStoreMapping URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accountStoreMappings/:accountStoreMappingId</span></code></p>
<p><strong>accountStoreMapping Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">listIndex</span></code></td>
<td>Number</td>
<td>0 &lt;= N &lt; list size</td>
<td>The order (priority) in which the associated Account Store will be consulted by the Application dURLng an authentication attempt. This is a zero-based index; an Account Store with a <code class="docutils literal"><span class="pre">listIndex</span></code> of <code class="docutils literal"><span class="pre">0</span></code> will be consulted first (has the highest priority), followed by the Account Store at <code class="docutils literal"><span class="pre">listIndex</span></code> <code class="docutils literal"><span class="pre">1</span></code> (next highest priority), and so on. Setting a negative value will default the value to 0, placing it first in the list. A <code class="docutils literal"><span class="pre">listIndex</span></code> of larger than the current list size will place the mapping at the end of the list and then default the value to <code class="docutils literal"><span class="pre">(list</span> <span class="pre">size</span> <span class="pre">-</span> <span class="pre">1)</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Accounts created by the Application will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they will not.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Groups created by the Application will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they won&#8217;t. <strong>This may only be set to true if the Account Store is a Directory. Stormpath does not currently support Groups storing other Groups</strong>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the mapping’s Application. <strong>Required.</strong></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountStore</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the mapping&#8217;s Account Store (Group, Directory or Organization) containing Accounts that may log in to the application. <strong>Required.</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
<p><strong>Account Store Mapping Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjy6Yv9nS4&quot;</span><span class="p">,</span>
  <span class="nt">&quot;listIndex&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultAccountStore&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultGroupStore&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountStore&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2jw4Kslj97zYjYRXEh2KYf&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-store-mapping-operations">
<span id="asm-operations"></span><h3><a class="toc-backref" href="#id78">Account Store Mapping Operations</a><a class="headerlink" href="#account-store-mapping-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id11">
<ul class="simple">
<li><a class="reference internal" href="#create-an-account-store-mapping" id="id83">Create an Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-account-store-mapping" id="id84">Retrieve an Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-account-store-mapping" id="id85">Update an Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-account-store-mapping" id="id86">Delete an Account Store Mapping</a></li>
</ul>
</div>
<div class="section" id="create-an-account-store-mapping">
<h4><a class="toc-backref" href="#id83">Create an Account Store Mapping</a><a class="headerlink" href="#create-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accountStoreMappings</td>
<td>Required: <code class="docutils literal"><span class="pre">application</span></code>, <code class="docutils literal"><span class="pre">accountStore</span></code>; Optional: <code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>N/A</td>
<td>Creates a new accountStoreMapping resource, thereby enabling the Accounts in the specified Store to log in to the specified Application. By default <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code> and <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code> are set to <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-an-account-store-mapping">
<h4><a class="toc-backref" href="#id84">Retrieve an Account Store Mapping</a><a class="headerlink" href="#retrieve-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Application resource. <code class="docutils literal"><span class="pre">accountStore`</span> <span class="pre">and</span> <span class="pre">``application</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-account-store-mapping">
<h4><a class="toc-backref" href="#id85">Update an Account Store Mapping</a><a class="headerlink" href="#update-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-account-store-mapping">
<h4><a class="toc-backref" href="#id86">Delete an Account Store Mapping</a><a class="headerlink" href="#delete-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td>N/A</td>
<td>Deletes the specified Account Store Mapping.</td>
</tr>
</tbody>
</table>
<div class="section" id="id12">
<h5>Example Queries<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieving an Account Store Mapping with embedded resources</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=application,accountStore&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the specified Account Store Mapping with the Application and accountStore entities embedded with <a class="reference internal" href="#about-links"><span>link expansion</span></a>.</p>
<p><strong>Updating an Account Store Mapping&#8217;s login priority</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=application,accountStore&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">  &quot;listIndex&quot;:&quot;0&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would update an Account Store Mapping to give it the highest position in the <a class="reference internal" href="005_auth_n.html#how-login-works"><span>login priority index</span></a>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="directory">
<span id="ref-directory"></span><h2>Directory<a class="headerlink" href="#directory" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id13">
<ul class="simple">
<li><a class="reference internal" href="#directory-operations" id="id87">Directory Operations</a><ul>
<li><a class="reference internal" href="#create-a-directory" id="id88">Create a Directory</a></li>
<li><a class="reference internal" href="#retrieve-a-directory" id="id89">Retrieve a Directory</a></li>
<li><a class="reference internal" href="#update-a-directory" id="id90">Update a Directory</a></li>
<li><a class="reference internal" href="#delete-a-directory" id="id91">Delete a Directory</a></li>
<li><a class="reference internal" href="#using-a-directory-for-look-up" id="id92">Using A Directory for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17" id="id93">Other Resources Associated with a Tenant</a><ul>
<li><a class="reference internal" href="#account-creation-policy" id="id94">Account Creation Policy</a></li>
<li><a class="reference internal" href="#password-policy" id="id95">Password Policy</a></li>
<li><a class="reference internal" href="#email-templates" id="id96">Email Templates</a></li>
<li><a class="reference internal" href="#password-strength" id="id97">Password Strength</a></li>
<li><a class="reference internal" href="#provider" id="id98">Provider</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The <strong>Directory</strong> resource is a top-level container for Account and Group resources. A Directory also manages secURLty policies (like password strength) for the Accounts it contains. Directories can be used to cleanly manage segmented user Account populations. For example, you might use one Directory for company employees and another Directory for customers, each with its own secURLty policies.</p>
<p>Additionally:</p>
<ul class="simple">
<li>All Account resources within a Directory have a unique <code class="docutils literal"><span class="pre">email</span></code> and <code class="docutils literal"><span class="pre">username</span></code>.</li>
<li>All Group resources within a Directory have a unique <code class="docutils literal"><span class="pre">name</span></code>.</li>
</ul>
<p>An individual Directory resource may be accessed via its Resource URL:</p>
<p><strong>Directory URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/directories/$DIRECTORY_ID</span></code></p>
<p><strong>Directory Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>Name of the Directory. Must be unique within a Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt; N &lt;= 1000 characters</td>
<td>The description of the Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> , <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Enabled Directories can be used as Account Stores for Applications. Disabled Directories cannot be used for login.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the owning <a class="reference internal" href="#ref-tenant"><span>Tenant</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">provider</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory&#8217;s Provider.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory&#8217;s customData resource that you can use to store your own Directory-specific custom fields.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passwordPolicy</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory’s <a class="reference internal" href="#ref-password-policy"><span>Password Policy</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountCreationPolicy</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory’s <a class="reference internal" href="#ref-accnt-creation-policy"><span>Account Creation Policy</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Accounts owned by this Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">applicationMappings</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of any accountStoreMapping resources that include this Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of all the <a class="reference internal" href="#ref-application"><span>Applications</span></a> mapped to this Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of the Groups mapped to this Directory.</td>
</tr>
</tbody>
</table>
<p><strong>Directory Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Captains&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Captains from a variety of stories&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-24T15:32:23.079Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-24T15:32:23.079Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/provider&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;passwordPolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/passwordPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountCreationPolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applicationMappings&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/applicationMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/groups&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="directory-operations">
<span id="id14"></span><h3><a class="toc-backref" href="#id87">Directory Operations</a><a class="headerlink" href="#directory-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id15">
<ul class="simple">
<li><a class="reference internal" href="#create-a-directory" id="id99">Create a Directory</a></li>
<li><a class="reference internal" href="#retrieve-a-directory" id="id100">Retrieve a Directory</a></li>
<li><a class="reference internal" href="#update-a-directory" id="id101">Update a Directory</a></li>
<li><a class="reference internal" href="#delete-a-directory" id="id102">Delete a Directory</a></li>
<li><a class="reference internal" href="#using-a-directory-for-look-up" id="id103">Using A Directory for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-a-directory">
<h4><a class="toc-backref" href="#id99">Create a Directory</a><a class="headerlink" href="#create-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>N/A</td>
<td>Creates a new Directory resource.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently it is only possible to make a Cloud or Social Directories via the REST API. To make a Mirror Directory you will need to use the <a class="reference external" href="http://docs.stormpath.com/console/product-guide/#create-a-directory">Admin Console</a>.</p>
</div>
</div>
<div class="section" id="retrieve-a-directory">
<h4><a class="toc-backref" href="#id100">Retrieve a Directory</a><a class="headerlink" href="#retrieve-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/directories/$DIRECTORY_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Directory. <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>, <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-directory">
<h4><a class="toc-backref" href="#id101">Update a Directory</a><a class="headerlink" href="#update-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories/$DIRECTORY_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-directory">
<h4><a class="toc-backref" href="#id102">Delete a Directory</a><a class="headerlink" href="#delete-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/directories/$DIRECTORY_ID</td>
<td>N/A</td>
<td>Deletes the specified</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The &#8220;Stormpath Administrators&#8221; Directory cannot be deleted.</p>
</div>
<div class="section" id="id16">
<h5>Example Queries<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h5>
<p><strong>Disable a Directory</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/bckhcGMXQDujIXpeXAMple&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">  &quot;status&quot; : &quot;DISABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would disable the specified Directory, which would mean that all of its associated Accounts and Groups would be unable to log in to any Application that this Directory was mapped to as an Account Store.</p>
<p><strong>Retrieve Directory with Tenant embedded</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/bckhcGMXQDujIXpeXAMple?expand=tenant&quot;</span> <span class="se">\</span>
</pre></div>
</div>
<p>This query would retrieve the specified Directory with the Tenant resource embedded via <a class="reference internal" href="#about-links"><span>link expansion</span></a>.</p>
</div>
</div>
<div class="section" id="using-a-directory-for-look-up">
<h4><a class="toc-backref" href="#id103">Using A Directory for Look-Up</a><a class="headerlink" href="#using-a-directory-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, independent, resources using the Directory for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$DIRECTORY_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a resource of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$DIRECTORY_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Directory&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Searchable collections associated with a Directory are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id17">
<h3><a class="toc-backref" href="#id93">Other Resources Associated with a Tenant</a><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="section" id="account-creation-policy">
<span id="ref-accnt-creation-policy"></span><h4><a class="toc-backref" href="#id94">Account Creation Policy</a><a class="headerlink" href="#account-creation-policy" title="Permalink to this headline">¶</a></h4>
<p>A Directory’s Account Creation Policy resource contains data and attributes that control what Stormpath does when an Account is created. This includes email verification and welcome emails.</p>
<p><strong>Account Creation Policy URL</strong></p>
<p><code class="docutils literal"><span class="pre">https://api.stormpath.com/v1/accountCreationPolicies/$DIRECTORY_ID</span></code></p>
<p><strong>Account Creation Policy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the verification email workflow. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly registered user to have them verify their email. The email sent is configurable through the <code class="docutils literal"><span class="pre">verificationEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">verificationSuccessEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the verification success email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly verified user to let them know that they have successfully verified their email. The email sent is configurable through the <code class="docutils literal"><span class="pre">verificationSuccessEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">welcomeEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the welcome email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly registered user (if <code class="docutils literal"><span class="pre">verificationEmailStatus</span></code> is set to <code class="docutils literal"><span class="pre">DISABLED</span></code>) or a newly verified user (if <code class="docutils literal"><span class="pre">verificationEmailStatus</span></code> is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>). The email sent is configurable through the <code class="docutils literal"><span class="pre">welcomeEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">verificationEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span>email templates</span></a> that can be used for sending the verification email.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationSuccessEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span>email templates</span></a> that can be used for sending the verification success email.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">welcomeEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span>email templates</span></a> that can be used for sending a welcome email.</td>
</tr>
</tbody>
</table>
<p><strong>Account Creation Policy Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationSuccessEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;welcomeEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/verificationEmailTemplates&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;verificationSuccessEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/verificationSuccessEmailTemplates&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;welcomeEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/welcomeEmailTemplates&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="password-policy">
<span id="ref-password-policy"></span><h4><a class="toc-backref" href="#id95">Password Policy</a><a class="headerlink" href="#password-policy" title="Permalink to this headline">¶</a></h4>
<p>The Directory&#8217;s Password Policy is configured inside the passwordPolicy resource. Specifically, this resource contains information about how passwords are reset and links to further information about the strength requirements for a user&#8217;s password. The Account Management chapter has more information about the <a class="reference internal" href="004_accnt_mgmt.html#password-reset-flow"><span>Password Reset Flow</span></a>.</p>
<p><strong>Password Policy URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/passwordPolicies/$DIRECTORY_ID</span></code></p>
<p><strong>passwordPolicy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">resetTokenTtl</span></code></td>
<td>Number</td>
<td>A positive integer, less than 169 (0 &lt; i &lt; 169). Default is 24.</td>
<td>An integer that defines how long the password reset token is valid for dURLng the password reset email workflow.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the reset email workflow. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, then Stormpath will allow for passwords to be reset through the email workflow and will use the template that is stored in the passwordPolicy’s <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">strength</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the password strength requirements for the Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetEmailTemplates</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span>email templates</span></a> that can be used for sending the password reset email. A template stores all relevant attributes  needed for an email. This is a collection but currently only allows one value. It is not possible to create new <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code> with a POST.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">resetSuccessEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the reset success email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, then Stormpath will send the email when an Account’s password reset email workflow is successful. The email template that is sent is defined in the passwordPolicy’s <code class="docutils literal"><span class="pre">resetSuccessEmailTemplates</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetSuccessEmailTemplates</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span>email templates</span></a> that can be used for sending password reset success emails. A template stores all relevant attributes needed for an email. This is a collection but currently only allows one value. It is not possible to create new <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code> with a POST.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="email-templates">
<span id="ref-emailtemplates"></span><h4><a class="toc-backref" href="#id96">Email Templates</a><a class="headerlink" href="#email-templates" title="Permalink to this headline">¶</a></h4>
<p>This resource defines the contents of emails that are sent as part of the account creation and password reset flows.</p>
<p><strong>EmailTemplate URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/emailTemplates/$EMAILTEMPLATE_ID&quot;</span></code></p>
<p><strong>emailTemplate Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fromEmailAddress</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The address that appears in the email&#8217;s &#8220;from&#8221; field.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fromName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name that appears in the email&#8217;s &#8220;from&#8221; field</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">subject</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The subject that appears in the email&#8217;s subject field</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">htmlBody</span></code></td>
<td>String</td>
<td>See below.</td>
<td>The body of the email in HTML format. This body is only sent when the <code class="docutils literal"><span class="pre">mimeType</span></code> for the template is set to <code class="docutils literal"><span class="pre">text/html</span></code>. This body can take valid HTML snippets.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">textBody</span></code></td>
<td>String</td>
<td>See below.</td>
<td>The body of the email is plain text format. This body is only sent when the <code class="docutils literal"><span class="pre">mimeType</span></code> for the template is set to <code class="docutils literal"><span class="pre">text/plain</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mimeType</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">text/plain</span></code> or <code class="docutils literal"><span class="pre">text/html</span></code></td>
<td>A property that defines whether Stormpath will send an email with the mime type of <code class="docutils literal"><span class="pre">text/plain</span></code> or <code class="docutils literal"><span class="pre">text/html</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultModel</span></code></td>
<td>Object</td>
<td>Object that includes one property <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> which is itself a String</td>
<td>An object that defines the model of the email template. The defaultModel currently holds one value, which is the <code class="docutils literal"><span class="pre">linkBaseUrl</span></code>. The linkBaseUrl is used when using the macro ${url} in an email template. This macro generates a URL that includes the <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> and the <code class="docutils literal"><span class="pre">sptoken</span></code> used in account creation and password reset workflows.</td>
</tr>
</tbody>
</table>
<div class="section" id="macros">
<span id="ref-email-macros"></span><h5>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal"><span class="pre">htmlBody</span></code> and <code class="docutils literal"><span class="pre">textBody</span></code> fields support the use of macros. For a full account of what macros are and how to use them, see <a class="reference internal" href="004_accnt_mgmt.html#customizing-email-templates"><span>f. Customizing Stormpath Emails via REST</span></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Macro</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>${account.givenName}</td>
<td>The Account&#8217;s first name.</td>
</tr>
<tr class="row-odd"><td>${account.surname}</td>
<td>The Account&#8217;s surname.</td>
</tr>
<tr class="row-even"><td>${account.fullName}</td>
<td>The Account&#8217;s full name (first name and surname).</td>
</tr>
<tr class="row-odd"><td>${account.username}</td>
<td>The Account&#8217;s username.</td>
</tr>
<tr class="row-even"><td>${account.email}</td>
<td>The Account&#8217;s email.</td>
</tr>
<tr class="row-odd"><td>${account.directory.name}</td>
<td>The name of the Directory that the Account belongs to.</td>
</tr>
<tr class="row-even"><td>$!{application.name}</td>
<td>The name of the Application that the Account belongs to. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="004_accnt_mgmt.html#quiet-macro-reference"><span>quiet reference notation</span></a>.</td>
</tr>
<tr class="row-odd"><td>$!{application.customData.$KEY}</td>
<td>Some value from the Application&#8217;s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Application&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="004_accnt_mgmt.html#quiet-macro-reference"><span>quiet reference notation</span></a>.</td>
</tr>
<tr class="row-even"><td>$!{account.customData.$KEY}</td>
<td>Some value from the Account&#8217;s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Account&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="004_accnt_mgmt.html#quiet-macro-reference"><span>quiet reference notation</span></a>.</td>
</tr>
<tr class="row-odd"><td>$!{account.directory.customData.$KEY}</td>
<td>Some value from the Directory’s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Directory&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="004_accnt_mgmt.html#quiet-macro-reference"><span>quiet reference notation</span></a>.</td>
</tr>
<tr class="row-even"><td>${url}</td>
<td>The <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> value from the template&#8217;s associated <code class="docutils literal"><span class="pre">defaultModel</span></code> object.</td>
</tr>
<tr class="row-odd"><td>${sptoken}</td>
<td>The value of the Stormpath token for password reset.</td>
</tr>
<tr class="row-even"><td>${sptokenNameValuePair}</td>
<td>A string that is shown as &#8220;sptoken=$TOKEN&#8221; Where &#8220;$TOKEN&#8221; is either the verification or password reset token.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information about customizing email templates, please see <a class="reference internal" href="004_accnt_mgmt.html#customizing-email-templates"><span>f. Customizing Stormpath Emails via REST</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="password-strength">
<span id="ref-password-strength"></span><h4><a class="toc-backref" href="#id97">Password Strength</a><a class="headerlink" href="#password-strength" title="Permalink to this headline">¶</a></h4>
<p>The Password Strength Policy for a Directory can be modified through the Administrator Console and through the REST API. Password Strength Policy is part of the Directory’s Password Policy and can be accessed through the <code class="docutils literal"><span class="pre">strength</span></code> attribute.</p>
<p><strong>Strength URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/passwordPolicies/$DIRECTORY_ID/strength</span></code></p>
<p><strong>strength Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">maxLength</span></code></td>
<td>Number</td>
<td>Default is 100</td>
<td>Represents the maximum length for a password. For example <code class="docutils literal"><span class="pre">maxLength</span></code> of <code class="docutils literal"><span class="pre">10</span></code> indicates that a password can have no more than 10 characters.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minLength</span></code></td>
<td>Number</td>
<td>Default is 8</td>
<td>Represents the minimum length for a password. For example <code class="docutils literal"><span class="pre">minLength</span></code> of <code class="docutils literal"><span class="pre">5</span></code> requires that a password has no less than 5 characters.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">minLowerCase</span></code></td>
<td>Number</td>
<td>Default is 1</td>
<td>Represents the minimum number of lower case characters required for the password. characters</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minNumeric</span></code></td>
<td>Number</td>
<td>Default is 1</td>
<td>Represents the minimum number of numeric characters required for the password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">minSymbol</span></code></td>
<td>Number</td>
<td>Default is 0</td>
<td>Represents the minimum number of symbol characters required for the password.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minUpperCase</span></code></td>
<td>Number</td>
<td>Default is 1</td>
<td>Represents the minimum number of upper case characters required for the password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">minDiacritic</span></code></td>
<td>Number</td>
<td>Default is 0</td>
<td>Represents the minimum number of diacritic characters required for the password.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="provider">
<span id="ref-provider"></span><h4><a class="toc-backref" href="#id98">Provider</a><a class="headerlink" href="#provider" title="Permalink to this headline">¶</a></h4>
<p>The Provider resource contains information about the source of the information found in its associated Directory resource.</p>
<p>For example, a Social Directory could be created for GitHub. This Directory would contain Accounts created using &#8220;Log In With Github&#8221;, and its Provider resource would contain information about your Github login integration (e.g. the OAuth Client and Secret required for Github login). An individual Provider resource may be accessed via its Resource URL:</p>
<p><strong>Provider URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/directories/:directoryId/provider</span></code></p>
<p><strong>Provider Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">providerId</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">stormpath</span></code> (for a Cloud Directory), <code class="docutils literal"><span class="pre">ad</span></code> or <code class="docutils literal"><span class="pre">ldap</span></code> (for Mirror Directories), <code class="docutils literal"><span class="pre">facebook</span></code>, <code class="docutils literal"><span class="pre">google</span></code>, <code class="docutils literal"><span class="pre">github</span></code> or <code class="docutils literal"><span class="pre">linkedin</span></code> (for Social Directories)</td>
<td>Specifies the type of Provider for the associated Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">clientId</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The OAuth 2.0 Client ID for this Provider. Only used for Social providers.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">clientSecret</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The OAuth 2.0 Client Secret for this Provider. Only used for Social providers.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">redirectURL</span></code></td>
<td>String</td>
<td>A valid URL</td>
<td>The URL to redirect to after the user has authenticated. Currently only used for the Google providers.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">agent</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Provider&#8217;s Agent. Currently only used for LDAP providers. For more information see <a class="reference internal" href="#ref-ldap-agent"><span>below</span></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Provider Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/3S8qv2u78JzwSXzEXAMplE/provider&quot;</span><span class="p">,</span>
  <span class="nt">&quot;providerId&quot;</span><span class="p">:</span><span class="s2">&quot;ldap&quot;</span><span class="p">,</span>
  <span class="nt">&quot;agent&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/agents/3S8vF6CIUET9R4PEXAMplE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="ldap-agent">
<span id="ref-ldap-agent"></span><h5>LDAP Agent<a class="headerlink" href="#ldap-agent" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="004_accnt_mgmt.html#about-mirror-dir"><span>Mirror Directories</span></a> have an associated <a class="reference internal" href="#ref-provider"><span>Provider resource</span></a> with either the <code class="docutils literal"><span class="pre">ldap</span></code> or <code class="docutils literal"><span class="pre">ad</span></code> <code class="docutils literal"><span class="pre">providerId</span></code>. That Provider in turn contains an <strong>Agent</strong> resource. This Agent is what will scan your LDAP directory and map the accounts and groups in that directory to Stormpath Accounts and Groups.</p>
<p>An Agents collection may be accessed via its Resource URL:</p>
<p><strong>Agent URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/agents/:directoryId</span></code></p>
<p><strong>Agent Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>String</td>
<td>N/A</td>
<td>A unique alphanumeric identifier for this Agent.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">online</span></code>, <code class="docutils literal"><span class="pre">offline</span></code>, <code class="docutils literal"><span class="pre">error</span></code></td>
<td>The Agent&#8217;s status.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">config</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">config</span></code> object. For more information see <a class="reference internal" href="#ref-ldap-agent-config"><span>below</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory resource that the Agent belongs to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">download</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link that allows this Agent to be downloaded for installation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Tenant that owns the Directory this Agent belongs to.</td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span>below</span></a>.</p>
<p id="ref-ldap-agent-config"><strong>Config Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">config</span></code> object is found inside an Agent resource. It corresponds with the &#8220;Agent Configuration&#8221; tab in the Stormpath Admin Console &#8220;Agents&#8221; section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directoryHost</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The IP address or Host name of the LDAP directory server to connect to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">directoryPort</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The port to use when connecting to the LDAP directory server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sslRequired</span></code></td>
<td>Boolean</td>
<td>.</td>
<td>Indicates whether the Agent socket connection to the directory uses SSL encryption.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">agentUserDn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The username that the Agent will use to connect to your LDAP directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">agentUserDnPassword</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The password that the Agent will use to connect to your LDAP directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">baseDn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The base DN (Distinguished Name) to use when querying the directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">pollInterval</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>How often (in minutes) to poll Directory Services to detect directory object changes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountConfig</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The Account configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">accountConfig</span></code> object. For more information see <a class="reference internal" href="#ref-accountconfig"><span>below</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groupConfig</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The Group configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">groupConfig</span></code> object. For more information see <a class="reference internal" href="#ref-groupconfig"><span>below</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">referralMode</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">follow</span></code>, <code class="docutils literal"><span class="pre">ignore</span></code></td>
<td>Prevents referral problems for Active Directory servers that are not configured properly for DNS.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ignoreReferralIssues</span></code></td>
<td>Boolean</td>
<td>N/A</td>
<td>Referral issues can arise when querying an Active Directory server without proper DNS. Setting this as true ignores referral exceptions and allows (potentially partial) results to be returned.</td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span>below</span></a>.</p>
<p id="ref-accountconfig"><strong>accountConfig Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">accountConfig</span></code> object is found inside a <code class="docutils literal"><span class="pre">config</span></code> object. It corresponds with the &#8220;Account Configuration&#8221; tab in the Stormpath Admin Console &#8220;Agents&#8221; section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dnSuffix</span></code></td>
<td>String</td>
<td>N/A</td>
<td>Optional value appended to the Base DN when accessing accounts. If left unspecified, account searches will stem from the Base DN.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">objectClass</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The LDAP object class to use when when loading accounts.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">objectFilter</span></code></td>
<td>String</td>
<td>N/A</td>
<td>LDAP query filter to use when searching for user accounts.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">emailRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s email address.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">givenNameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s first name (aka &#8216;Given Name&#8217;).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">middleNameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s middle name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">surnameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s last name (aka &#8216;Family Name&#8217; or &#8216;Surname&#8217;).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">usernameRnd</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s login name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">passwordRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s password.</td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span>below</span></a>.</p>
<p id="ref-groupconfig"><strong>groupConfig Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">groupConfig</span></code> object is found inside a <code class="docutils literal"><span class="pre">config</span></code> object.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal"><span class="pre">dnSuffix</span></code></th>
<th class="head">String</th>
<th class="head">N/A</th>
<th class="head">Optional value appended to the Base DN when accessing groups. If left unspecified, group searches will stem from the Base DN.</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">objectClass</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The LDAP object class to use when when loading accounts.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">objectFilter</span></code></td>
<td>String</td>
<td>N/A</td>
<td>LDAP query filter to use when searching for groups.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for a group&#8217;s name. For example cn. Please note: group names must be unique within a directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">descriptionRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for a group&#8217;s description.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">membersRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute that lists the group members.</td>
</tr>
</tbody>
</table>
<p id="agent-json-ex"><strong>Agent example with embedded Config, accountConfig and groupConfig resources</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/agents/2PjCYRg3mhGNLUieXamPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;2PjCYRg3mhGNLUixcSdK0k&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;OFFLINE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;config&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;directoryHost&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;directoryPort&quot;</span><span class="p">:</span><span class="mi">636</span><span class="p">,</span>
    <span class="nt">&quot;sslRequired&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;agentUserDn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;baseDn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pollInterval&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
    <span class="nt">&quot;accountConfig&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;dnSuffix&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectClass&quot;</span><span class="p">:</span><span class="s2">&quot;person&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectFilter&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;emailRdn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;givenNameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;givenName&quot;</span><span class="p">,</span>
      <span class="nt">&quot;middleNameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;surnameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;sn&quot;</span><span class="p">,</span>
      <span class="nt">&quot;usernameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;uid&quot;</span><span class="p">,</span>
      <span class="nt">&quot;passwordRdn&quot;</span><span class="p">:</span><span class="s2">&quot;userPassword&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;groupConfig&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;dnSuffix&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectClass&quot;</span><span class="p">:</span><span class="s2">&quot;groupOfUniqueNames&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectFilter&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;nameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;cn&quot;</span><span class="p">,</span>
      <span class="nt">&quot;descriptionRdn&quot;</span><span class="p">:</span><span class="s2">&quot;description&quot;</span><span class="p">,</span>
      <span class="nt">&quot;membersRdn&quot;</span><span class="p">:</span><span class="s2">&quot;uniqueMember&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2014-11-25T03:22:39.000Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2014-11-25T03:22:39.000Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2Pj8EONsQmnAMyIeXamPLE&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;download&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/agents/2PjCYRg3mhGNLUieXamPLE/download&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/7g9HG1YMBX8ohFbeXamPLE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="group">
<span id="ref-group"></span><h2>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id18">
<ul class="simple">
<li><a class="reference internal" href="#group-operations" id="id104">Group Operations</a><ul>
<li><a class="reference internal" href="#create-a-group" id="id105">Create a Group</a></li>
<li><a class="reference internal" href="#retrieve-a-group" id="id106">Retrieve a Group</a></li>
<li><a class="reference internal" href="#update-a-group" id="id107">Update a Group</a></li>
<li><a class="reference internal" href="#delete-a-group" id="id108">Delete a Group</a></li>
<li><a class="reference internal" href="#using-a-group-for-look-up" id="id109">Using a Group for Look-Up</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Groups</strong> are collections of Accounts found within a Directory. They can be thought of as labels applied to Accounts. Aside from the relatively simple task of grouping together Accounts, Groups can also be used to implement &#8220;roles&#8221; for authorization purposes. For more information about this, please see <a class="reference internal" href="006_auth_z.html#role-groups"><span>i. How to Use Groups to Model Authorization Roles</span></a>.</p>
<p>An individual Group resource may be accessed via its Resource URL:</p>
<p><strong>Group URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/groups/:groupId</span></code></p>
<p><strong>Group Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The name of the Group. Must be unique within a Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 1000 characters</td>
<td>The description of the Group.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Groups are able to authenticate against an Application. <code class="docutils literal"><span class="pre">DISABLED</span></code> Groups cannot authenticate against an Application.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Group’s customData resource that you can use to store your own Group-specific custom fields.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Directory resource that the Group belongs to.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Tenant that owns the Directory containing this Group.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of the Accounts that are contained within this Group.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountMemberships</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of groupMemberships that this Group is found in.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to any Applications associated with this Group.</td>
</tr>
</tbody>
</table>
<p><strong>Group Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Starfleet Officers&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Commissioned officers in Starfleet&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T20:09:23.698Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T20:09:23.698Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJKExaMPLe/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountMemberships&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/accountMemberships&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/applications&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="group-operations">
<span id="id19"></span><h3><a class="toc-backref" href="#id104">Group Operations</a><a class="headerlink" href="#group-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id20">
<ul class="simple">
<li><a class="reference internal" href="#create-a-group" id="id110">Create a Group</a></li>
<li><a class="reference internal" href="#retrieve-a-group" id="id111">Retrieve a Group</a></li>
<li><a class="reference internal" href="#update-a-group" id="id112">Update a Group</a></li>
<li><a class="reference internal" href="#delete-a-group" id="id113">Delete a Group</a></li>
<li><a class="reference internal" href="#using-a-group-for-look-up" id="id114">Using a Group for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-a-group">
<h4><a class="toc-backref" href="#id110">Create a Group</a><a class="headerlink" href="#create-a-group" title="Permalink to this headline">¶</a></h4>
<p>Groups must be created under a specified Directory resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST v1/directories/$DIRECTORY_ID/groups</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>N/A</td>
<td>Creates a new Group resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-a-group">
<h4><a class="toc-backref" href="#id111">Retrieve a Group</a><a class="headerlink" href="#retrieve-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groups/$GROUP_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Group. <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">directory</span></code> and <code class="docutils literal"><span class="pre">accounts</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-group">
<h4><a class="toc-backref" href="#id112">Update a Group</a><a class="headerlink" href="#update-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/groups/$GROUP_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-group">
<h4><a class="toc-backref" href="#id113">Delete a Group</a><a class="headerlink" href="#delete-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/groups/$GROUP_ID</td>
<td>N/A</td>
<td>Deletes the specified Group resource.</td>
</tr>
</tbody>
</table>
<div class="section" id="id21">
<h5>Example Queries<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h5>
<p><strong>Example Description</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groups/ZgoHUG0oSoVNeU0ExaMPLE?expand=tenant,directory,accounts(offset:0,limit:50)&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a Group resource along with its associated Tenant and Directory resources embedded via link expansion. It would also return with the embedded collection of associated Accounts, to a maximum of 50 Accounts in this particular return payload.</p>
<p><strong>Disable a Group</strong></p>
<div class="highlight-bash"><div class="highlight"><pre> curl --request POST <span class="se">\</span>
 --user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
 --header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
 --url <span class="s2">&quot;https://api.stormpath.com/v1/groups/ZgoHUG0oSoVNeU0ExaMPLE&quot;</span> <span class="se">\</span>
 --data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;status&quot; : &quot;DISABLED&quot; \</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would disable a Group, which means that any associated Accounts would not be able to log in to any Applications that they were mapped to.</p>
</div>
</div>
<div class="section" id="using-a-group-for-look-up">
<h4><a class="toc-backref" href="#id114">Using a Group for Look-Up</a><a class="headerlink" href="#using-a-group-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Group for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groups/$GROUP_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a collection of all of a Group&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">applications</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/groups/$GROUP_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Group&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Searchable collections associated with a Group are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">applications</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="group-membership">
<span id="ref-groupmembership"></span><h2>Group Membership<a class="headerlink" href="#group-membership" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id22">
<ul class="simple">
<li><a class="reference internal" href="#group-membership-operations" id="id115">Group Membership Operations</a><ul>
<li><a class="reference internal" href="#create-a-group-membership" id="id116">Create a Group Membership</a></li>
<li><a class="reference internal" href="#retrieve-a-group-membership" id="id117">Retrieve a Group Membership</a></li>
<li><a class="reference internal" href="#update-a-group-membership" id="id118">Update a Group Membership</a></li>
<li><a class="reference internal" href="#delete-a-group-membership" id="id119">Delete a Group Membership</a></li>
</ul>
</li>
</ul>
</div>
<p>Accounts and Groups are linked via a <strong>groupMembership</strong> resource that stores this Account-to-Group link. Each Account you add to a Group has its own groupMembership resource created.</p>
<p><strong>groupMembership URL</strong></p>
<p><code class="docutils literal"><span class="pre">v1/groupMemberships/$GROUP_MEMBERSHIP_ID</span></code></p>
<p><strong>groupMembership Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Account for this Group Membership.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">group</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Group for this Group Membership.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified</td>
</tr>
</tbody>
</table>
<p><strong>Group Membership Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groupMemberships&quot;</span><span class="p">,</span>
  <span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span>
  <span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;items&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/1ufdzvjTWThoqnHexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;account&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJexaMple&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="group-membership-operations">
<span id="groupmembership-operations"></span><h3><a class="toc-backref" href="#id115">Group Membership Operations</a><a class="headerlink" href="#group-membership-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id23">
<ul class="simple">
<li><a class="reference internal" href="#create-a-group-membership" id="id120">Create a Group Membership</a></li>
<li><a class="reference internal" href="#retrieve-a-group-membership" id="id121">Retrieve a Group Membership</a></li>
<li><a class="reference internal" href="#update-a-group-membership" id="id122">Update a Group Membership</a></li>
<li><a class="reference internal" href="#delete-a-group-membership" id="id123">Delete a Group Membership</a></li>
</ul>
</div>
<div class="section" id="create-a-group-membership">
<h4><a class="toc-backref" href="#id120">Create a Group Membership</a><a class="headerlink" href="#create-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td>Required: <code class="docutils literal"><span class="pre">account</span></code>, <code class="docutils literal"><span class="pre">group</span></code></td>
<td>N/A</td>
<td>Creates a new groupMembership resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-a-group-membership">
<h4><a class="toc-backref" href="#id121">Retrieve a Group Membership</a><a class="headerlink" href="#retrieve-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified groupMembership. <code class="docutils literal"><span class="pre">account</span></code> and <code class="docutils literal"><span class="pre">group</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-group-membership">
<h4><a class="toc-backref" href="#id122">Update a Group Membership</a><a class="headerlink" href="#update-a-group-membership" title="Permalink to this headline">¶</a></h4>
<p>A groupMembership resource cannot be updated once it has been created.</p>
</div>
<div class="section" id="delete-a-group-membership">
<h4><a class="toc-backref" href="#id123">Delete a Group Membership</a><a class="headerlink" href="#delete-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td>N/A</td>
<td>Deletes the specified groupMembership resource.</td>
</tr>
</tbody>
</table>
<div class="section" id="id24">
<h5>Example Queries<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h5>
<p><strong>Deleting a Group Membership</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request DELETE <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/57YZCqrNgrzcIGYexaMpLe&quot;</span>
</pre></div>
</div>
<p>This query would delete the groupMembership resource.</p>
<p><strong>Retrieving a Group Membership with its Account expanded</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/57YZCqrNgrzcIGYexaMpLe?expand=account&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the groupMembership resource with the associate Account expanded inside the JSON.</p>
</div>
</div>
</div>
</div>
<div class="section" id="organization">
<span id="ref-organization"></span><h2>Organization<a class="headerlink" href="#organization" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id25">
<ul class="simple">
<li><a class="reference internal" href="#organization-operations" id="id124">Organization Operations</a><ul>
<li><a class="reference internal" href="#create-an-organization" id="id125">Create an Organization</a></li>
<li><a class="reference internal" href="#retrieve-an-organization" id="id126">Retrieve an Organization</a></li>
<li><a class="reference internal" href="#update-an-organization" id="id127">Update an Organization</a></li>
<li><a class="reference internal" href="#delete-an-organization" id="id128">Delete an Organization</a></li>
<li><a class="reference internal" href="#using-an-organization-for-look-up" id="id129">Using an Organization for Look-Up</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The Organization resource is two things:</p>
<ol class="arabic simple">
<li>A top-level container for both <a class="reference internal" href="#ref-directory"><span>Directories</span></a> and <a class="reference internal" href="#ref-group"><span>Groups</span></a> .</li>
<li>An Account Store that can <a class="reference internal" href="005_auth_n.html#create-asm"><span>be mapped to an Application</span></a> just like a Directory or Group.</li>
</ol>
<p>Organizations are primarily intended to represent &#8220;tenants&#8221; in multi-tenant applications. For more information about multitenancy in Stormpath, see the <a class="reference internal" href="007_multitenancy.html#multitenancy"><span>7. Multi-Tenancy with Stormpath</span></a> chapter.</p>
<p>An individual Organization resource may be accessed via its Resource URL:</p>
<p><strong>Organization URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/organizations/$ORGANIZATION_ID</span></code></p>
<p><strong>Organization Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt;= N &lt;= 255 characters.</td>
<td>The name of the Organization. Must be unique across all Organizations within your Stormpath Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nameKey</span></code></td>
<td>String</td>
<td>1 &lt;= N &lt;= 63 characters.</td>
<td>A name key that represents the Organization. Must be unique across all organizations within your Stormpath tenant and must follow <a class="reference external" href="http://www.ietf.org/rfc/rfc0952.txt">DNS hostname rules</a>. That is, it may only consist of: a-z, A-Z, 0-9, and -. It must not start or end with a hyphen. The uniqueness constraint is case insensitive.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Indicates whether the Organization is enabled or not. Enabled Organizations can be used as Account Stores for applications, disabled Organizations cannot.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt; N &lt;= 1000 characters</td>
<td>The description of the Organization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Organization&#8217;s customData resource that you can use to store your own Organization-specific custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultAccountStoreMapping</span></code></td>
<td>String (Link)</td>
<td><code class="docutils literal"><span class="pre">null</span></code> or Link</td>
<td>A link to this Organization&#8217;s default Account Store Mapping where the organization will store newly created Accounts. A null value disables the ability to add Groups to the Organization via the <code class="docutils literal"><span class="pre">organizations/:organizationId/accounts</span></code> endpoint.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">defaultGroupStoreMapping</span></code></td>
<td>String (Link)</td>
<td><code class="docutils literal"><span class="pre">null</span></code> or Link</td>
<td>A link to this Organization&#8217;s default Account Store Mapping where the organization will store newly created Groups. A null value disables the ability to add Groups to the Organization via the <code class="docutils literal"><span class="pre">organizations/:organizationId/groups</span></code> endpoint.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountStoreMappings</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the collection of all Account Store Mappings that represent the Organization. The Accounts and Groups within the mapped Account Stores are obtainable from the <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code> links, respectively.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of the Groups wrapped by this Organization.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of the Accounts wrapped by this Organization. All of the Accounts in this collection can log-in to the Organization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Stormpath Tenant that owns this Organization.</td>
</tr>
</tbody>
</table>
<p><strong>Organization Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-10-01T17:39:04.114Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-10-01T17:39:04.114Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Canadian Imperial Bank of Commerce&quot;</span><span class="p">,</span>
  <span class="nt">&quot;nameKey&quot;</span><span class="p">:</span><span class="s2">&quot;cibc&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultAccountStoreMapping&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;defaultGroupStoreMapping&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;accountStoreMappings&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/accountStoreMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="organization-operations">
<span id="id26"></span><h3><a class="toc-backref" href="#id124">Organization Operations</a><a class="headerlink" href="#organization-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id27">
<ul class="simple">
<li><a class="reference internal" href="#create-an-organization" id="id130">Create an Organization</a></li>
<li><a class="reference internal" href="#retrieve-an-organization" id="id131">Retrieve an Organization</a></li>
<li><a class="reference internal" href="#update-an-organization" id="id132">Update an Organization</a></li>
<li><a class="reference internal" href="#delete-an-organization" id="id133">Delete an Organization</a></li>
<li><a class="reference internal" href="#using-an-organization-for-look-up" id="id134">Using an Organization for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-organization">
<h4><a class="toc-backref" href="#id130">Create an Organization</a><a class="headerlink" href="#create-an-organization" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizations</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>; Optional: <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>N/A</td>
<td>Creates a new Organization resource</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-an-organization">
<h4><a class="toc-backref" href="#id131">Retrieve an Organization</a><a class="headerlink" href="#retrieve-an-organization" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don’t have the Organization&#8217;s URL, you can find it by looking it up in the Stormpath Admin Console or by searching your Tenant’s Organizations by sending a GET to <code class="docutils literal"><span class="pre">/v1/tenants/$TENANT_ID/organizations</span></code>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/organizations/$ORGANIZATION_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Organization. <code class="docutils literal"><span class="pre">groups</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-organization">
<h4><a class="toc-backref" href="#id132">Update an Organization</a><a class="headerlink" href="#update-an-organization" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizations/$ORGANIZATION_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-organization">
<h4><a class="toc-backref" href="#id133">Delete an Organization</a><a class="headerlink" href="#delete-an-organization" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Deleting an Organization completely erases it and any of its related data from Stormpath. We recommend that you disable the Organization instead of deleting it if you anticipate that you might use it again or if you want to retain its data for historical reference. To disable an Organization, you can update the Organization and set the <code class="docutils literal"><span class="pre">status</span></code> attribute to <code class="docutils literal"><span class="pre">DISABLED</span></code>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/organizations/$ORGANIZATION_ID</td>
<td>N/A</td>
<td>Deletes the specified Organization.</td>
</tr>
</tbody>
</table>
<div class="section" id="id28">
<h5>Example Queries<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h5>
<p><strong>Create a new Organization resource</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizations&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;name&quot;: &quot;Finance Organization&quot;,</span>
<span class="s1">  &quot;nameKey&quot;: &quot;finance&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;ENABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would create a new Organization with the attribute values.</p>
<p><strong>Disable an Organization</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizations&quot;</span>
--data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;status&quot;: &quot;DISABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would disable the Organization. No Accounts mapped to an Application via this Organization would be able to log in.</p>
</div>
</div>
<div class="section" id="using-an-organization-for-look-up">
<h4><a class="toc-backref" href="#id134">Using an Organization for Look-Up</a><a class="headerlink" href="#using-an-organization-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Organization for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/organizations/$ORGANIZATION_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a collection of all of an Organization&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">accountStoreMappings</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/Organization/$ORGANIZATION_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Organization&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Searchable collections associated with a Tenant are: <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="account">
<span id="ref-account"></span><h2>Account<a class="headerlink" href="#account" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id29">
<ul class="simple">
<li><a class="reference internal" href="#account-operations" id="id135">Account Operations</a><ul>
<li><a class="reference internal" href="#create-an-account" id="id136">Create an Account</a></li>
<li><a class="reference internal" href="#retrieve-an-account" id="id137">Retrieve an Account</a></li>
<li><a class="reference internal" href="#update-an-account" id="id138">Update an Account</a></li>
<li><a class="reference internal" href="#delete-an-account" id="id139">Delete an Account</a></li>
<li><a class="reference internal" href="#using-an-account-for-look-up" id="id140">Using an Account for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-an-account" id="id141">Other Resources Associated with an Account</a><ul>
<li><a class="reference internal" href="#account-api-keys" id="id142">Account API Keys</a></li>
<li><a class="reference internal" href="#access-tokens" id="id143">Access Tokens</a></li>
<li><a class="reference internal" href="#refresh-tokens" id="id144">Refresh Tokens</a></li>
<li><a class="reference internal" href="#expanded-json-web-token" id="id145">Expanded JSON Web Token</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>An <strong>Account</strong> is a unique identity within a Directory, with a unique <code class="docutils literal"><span class="pre">username</span></code> and <code class="docutils literal"><span class="pre">email</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Specifying a <code class="docutils literal"><span class="pre">username</span></code> is optional, if not included it will default to the <code class="docutils literal"><span class="pre">email</span></code> value.</p>
</div>
<p>An Account can log in to an Application using either the <code class="docutils literal"><span class="pre">email</span></code> or <code class="docutils literal"><span class="pre">username</span></code>. Accounts can represent your end users (people), but they can also be used to represent services, daemons, processes, or any “entity” that needs to log in to a Stormpath-enabled application. Additionally, an Account may only exist in a single Directory but may be in multiple Groups owned by that Directory.</p>
<p>An individual Account resource may be accessed via its Resource URL:</p>
<p><strong>Account URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accounts/:accountId</span></code></p>
<p><strong>Account Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">username</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The username for the Account. Must be unique across the owning Directory. If not specified, the username will default to the same value as the <code class="docutils literal"><span class="pre">email</span></code> field.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">email</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The email address for the Account. Must be unique across the owning Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The password for the Account. Only include this attribute if setting or changing the Account password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">givenName</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The given (first) name for the Account holder.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">middleName</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The middle (second) name for the Account holder.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">surname</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The surname (last name) for the Account holder.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fullName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The full name for the Account holder. This is a computed attribute based on the <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code> and <code class="docutils literal"><span class="pre">surname</span></code> attributes. It cannot be modified. To change this value, change one of the three respective attributes to trigger a new computed value.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code>, <code class="docutils literal"><span class="pre">unverified</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Accounts are able to log in to their assigned Applications, <code class="docutils literal"><span class="pre">DISABLED</span></code> Accounts may not log in to Applications, <code class="docutils literal"><span class="pre">unverified</span></code> Accounts are disabled and have not verified their email address.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">emailVerificationToken</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Account’s email verification token. This will only be set if the Account needs to be verified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Account’s customData resource that you can use to store your own Account-specific custom fields.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">providerData</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the information from the owner Directory&#8217;s Provider.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Account&#8217;s Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Tenant that owns the Account’s Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to a collection of the Groups that the Account belongs to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groupMemberships</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-groupmembership"><span>Group Memberships</span></a> that the Account is in.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the Applications that the Account belongs to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">apiKeys</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A link to the apiKeys for this Account.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accessTokens</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A collection of valid JSON Web Tokens associated with this Account, used for token-based authentication.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">refreshTokens</span></code></td>
<td>String (Link)</td>
<td>N/A</td>
<td>A collection of valid JSON Web Tokens associated with this Account, used to generate additional <code class="docutils literal"><span class="pre">accessTokens</span></code> for token-based authentication.</td>
</tr>
</tbody>
</table>
<p><strong>Account Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;jlpicard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;capt@enterprise.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;givenName&quot;</span><span class="p">:</span><span class="s2">&quot;Jean-Luc&quot;</span><span class="p">,</span>
  <span class="nt">&quot;middleName&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;surname&quot;</span><span class="p">:</span><span class="s2">&quot;Picard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;fullName&quot;</span><span class="p">:</span><span class="s2">&quot;Jean-Luc Picard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;emailVerificationToken&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;providerData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey/providerData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groupMemberships&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groupMemberships&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;apiKeys&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/apiKeys&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accessTokens&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/accessTokens&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;refreshTokens&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/refreshTokens&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-operations">
<span id="id30"></span><h3><a class="toc-backref" href="#id135">Account Operations</a><a class="headerlink" href="#account-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id31">
<ul class="simple">
<li><a class="reference internal" href="#create-an-account" id="id146">Create an Account</a></li>
<li><a class="reference internal" href="#retrieve-an-account" id="id147">Retrieve an Account</a></li>
<li><a class="reference internal" href="#update-an-account" id="id148">Update an Account</a></li>
<li><a class="reference internal" href="#delete-an-account" id="id149">Delete an Account</a></li>
<li><a class="reference internal" href="#using-an-account-for-look-up" id="id150">Using an Account for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-account">
<h4><a class="toc-backref" href="#id146">Create an Account</a><a class="headerlink" href="#create-an-account" title="Permalink to this headline">¶</a></h4>
<p>Because an Account is &#8220;owned&#8221; by a Directory, you can add it either directly through the Directory that owns it, or indirectly via an Application that has that Directory as an Account Store:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories/$DIRECTORY_ID/accounts <em>or</em> /v1/applications/$APPLICATION_ID/accounts</td>
<td>Required: <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">password</span></code>, <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>; Optional: <code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td><code class="docutils literal"><span class="pre">registrationWorkflowEnabled=false</span></code>, <code class="docutils literal"><span class="pre">passwordFormat=mcf</span></code> (see note below)</td>
<td>Creates a new Account resource.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">registrationWorkflowEnabled=false</span></code> parameter disables the default Registration Workflow. For more information about Workflows, please see the <a class="reference external" href="http://docs.stormpath.com/console/product-guide/#directory-workflows">Admin Console Guide</a>. The <code class="docutils literal"><span class="pre">passwordFormat=mcf</span></code> parameter is used for <a class="reference internal" href="004_accnt_mgmt.html#importing-mcf"><span>Importing Accounts with MCF Hash Passwords</span></a>.</p>
</div>
</div>
<div class="section" id="retrieve-an-account">
<h4><a class="toc-backref" href="#id147">Retrieve an Account</a><a class="headerlink" href="#retrieve-an-account" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Account. <code class="docutils literal"><span class="pre">customData</span></code>, <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">directory</span></code>, <code class="docutils literal"><span class="pre">groups</span></code> and <code class="docutils literal"><span class="pre">groupMemberships</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span>above</span></a>. Also, since <code class="docutils literal"><span class="pre">groups</span></code> and <code class="docutils literal"><span class="pre">groupMemberships</span></code> are collections, they can be expanded and <a class="reference internal" href="#about-pagination"><span>paginated</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-account">
<h4><a class="toc-backref" href="#id148">Update an Account</a><a class="headerlink" href="#update-an-account" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accounts/$ACCOUNT_ID</td>
<td><code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">password</span></code>, <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-account">
<h4><a class="toc-backref" href="#id149">Delete an Account</a><a class="headerlink" href="#delete-an-account" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/accounts/$ACCOUNT_ID</td>
<td>N/A</td>
<td>Deletes the specified</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be careful deleting an Account for a single application’s needs - ensure that the deletion is OK for any and all applications that may be associated with the Account. More often than not it is advisable to simply update the Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> to <code class="docutils literal"><span class="pre">DISABLED</span></code>.</p>
</div>
<div class="section" id="id32">
<h5>Example Queries<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h5>
<p><strong>Create an Account while suppressing the registration email</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET \
--user $API_KEY_ID:$API_KEY_SECRET \
--header &#39;content-type: application/json&#39; \
--url &quot;https://api.stormpath.com/v1/directories/WpM9nyZ2TbaEzfbexaMPLE/accounts?registrationWorkflowEnabled=false&quot;
--data &#39;{
         &quot;username&quot; : &quot;jlpicard&quot;,
         &quot;email&quot; : &quot;capt@enterprise.com&quot;,
         &quot;givenName&quot; : &quot;Jean-Luc&quot;,
         &quot;middleName&quot; : &quot;&quot;,
         &quot;surname&quot; : &quot;Picard&quot;,
         &quot;password&quot; : &quot;uGhd%a8Kl!&quot;
         &quot;status&quot; : &quot;ENABLED&quot;,
}
</pre></div>
</div>
<p>This query would create an Account with the specified attributes, while also suppressing the configured <a class="reference external" href="http://docs.stormpath.com/console/product-guide/#directory-workflows">Registration Workflow</a>.</p>
<p><strong>Example Description</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span>
--data <span class="s1">&#39;{</span>
<span class="s1">         &quot;status&quot; : &quot;ENABLED&quot;,</span>
<span class="s1">         &quot;customData&quot;: {</span>
<span class="s1">             &quot;favoriteColor&quot;: &quot;blue&quot;,</span>
<span class="s1">             &quot;hobby&quot;: &quot;Kendo&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would update an Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> attribute at the same time as it updated/added two entries in the Account&#8217;s customData resource.</p>
</div>
</div>
<div class="section" id="using-an-account-for-look-up">
<h4><a class="toc-backref" href="#id150">Using an Account for Look-Up</a><a class="headerlink" href="#using-an-account-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Account for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a></td>
<td>Retrieves a collection of all of an Account&#8217;s associated resources of the specified type. Currently the only possible resource types are <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/accounts/$ACCOUNT_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span>Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span>sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span>Filter</span></a>, <a class="reference internal" href="#search-attribute"><span>Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span>Datetime</span></a></td>
<td>Searches a collection of all of the Account&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span>here</span></a>. Currently the only searchable collection is <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="other-resources-associated-with-an-account">
<h3><a class="toc-backref" href="#id141">Other Resources Associated with an Account</a><a class="headerlink" href="#other-resources-associated-with-an-account" title="Permalink to this headline">¶</a></h3>
<div class="section" id="account-api-keys">
<span id="ref-account-apikeys"></span><h4><a class="toc-backref" href="#id142">Account API Keys</a><a class="headerlink" href="#account-api-keys" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any API Keys that have been generated for this Account.</p>
<p><strong>apiKeys URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accounts/$ACCOUNT_ID/apiKeys</span></code></p>
<p><strong>apiKeys Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The API Key ID.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">secret</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The API Key Secret.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Indicates whether this API Key is enabled or not.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account that this API Key is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant that this API Key is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>apiKeys Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/apiKeys/5G5KR4W3K1BP235X8KEXAMPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;5G5KR4W3K1BP235X8K6NEBL93&quot;</span><span class="p">,</span>
  <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;GRiCelvEblNU7Xl4l3oOCw30c72Rwj8TkRn8cUQCrvU&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDexAMPLE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-api-key-operations">
<h5>Account API Key Operations<a class="headerlink" href="#account-api-key-operations" title="Permalink to this headline">¶</a></h5>
<p>An Account&#8217;s API Keys have a full set of CRUD operations available via REST.</p>
<div class="section" id="creating-an-api-key">
<h6>Creating an API Key<a class="headerlink" href="#creating-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accounts/$ACCOUNT_ID/apiKeys</td>
<td>N/A</td>
<td>Generates a new API Key.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieving-an-api-key">
<h6>Retrieving an API Key<a class="headerlink" href="#retrieving-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="30%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/apiKeys</td>
<td><code class="docutils literal"><span class="pre">expand</span></code>, <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> (see below)</td>
<td>Retrieves the API Keys for the specified Account. <code class="docutils literal"><span class="pre">account</span></code> and <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>If <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> is included, then the returned API Key is encrypted. Additionally, the following parameters can also be modified:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">encryptionKeySize</span></code>: The size of the key used for encryption. Default value is <code class="docutils literal"><span class="pre">128</span></code>.</li>
<li><code class="docutils literal"><span class="pre">encryptionKeyIterations</span></code>: The number of times the key is hashed before it is sent. Default value is <code class="docutils literal"><span class="pre">1024</span></code></li>
<li><code class="docutils literal"><span class="pre">encryptionKeySalt</span></code>: Specifies whether you would like to use a cryptographic salt. Default value is <code class="docutils literal"><span class="pre">false</span></code>.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="updating-an-api-key">
<h6>Updating an API Key<a class="headerlink" href="#updating-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accounts/$ACCOUNT_ID/apiKeys</td>
<td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>Can be used to update the <code class="docutils literal"><span class="pre">status</span></code> field for an API Key to either <code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="deleting-an-api-key">
<h6>Deleting an API Key<a class="headerlink" href="#deleting-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/apiKeys/$API_KEY_ID</td>
<td>N/A</td>
<td>Deletes the specified API Key resource.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="access-tokens">
<span id="id33"></span><h4><a class="toc-backref" href="#id143">Access Tokens</a><a class="headerlink" href="#access-tokens" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any OAuth 2.0 Access Tokens that have been generated for this Account.</p>
<p><strong>accessTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accessTokens/$ACCESS_TOKEN_ID</span></code></p>
<p><strong>accessTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jwt</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The JSON Web Token.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">expandedJwt</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The embedded and expanded <a class="reference internal" href="#ref-jwt"><span>JSON Web Token</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account that this Access Token is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Application that this Access Token is associated with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant that this Access Token is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>accessTokens Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accessTokens/6TVcnquGRyFZq0ssyHwpTN&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-11-18T19:16:12.437Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJraWQiOiIyWkZNVjRXVlZDVkczNVhBVElJOVQ5Nko3IiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiI2VFZjbnF1R1J5RlpxMHNzeUh3cFROIiwiaWF0IjoxNDQ3ODc0MTcyLCJpc3MiOiJodHRwczovL2FwaS5zdG9ybXBhdGguY29tL3YxL2FwcGxpY2F0aW9ucy8xZ2s0RHh6aTZvNFBiZGxCVmE2dGZSIiwic3ViIjoiaHR0cHM6Ly9hcGkuc3Rvcm1wYXRoLmNvbS92MS9hY2NvdW50cy8zYXBlbll2TDBaOXY5c3BkenBGZmV5IiwiZXhwIjoxNDQ3ODc1OTcyLCJydGkiOiI2VFZjbm5hQlhOd2JEQm4xbTI1WXJKIn0.flUqUWUEnwGcmVaCwWuf4KpQCkxkqYeWlYGrtFkBaFs&quot;</span><span class="p">,</span>
  <span class="nt">&quot;expandedJwt&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnquGRyFZq0ssyHwpTN&quot;</span><span class="p">,</span>
      <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
      <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey&quot;</span><span class="p">,</span>
      <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1447875972</span><span class="p">,</span>
      <span class="nt">&quot;rti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;flUqUWUEnwGcmVaCwWuf4KpQCkxkqYeWlYGrtFkBaFs&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDn9R91R&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="refresh-tokens">
<span id="ref-refresh-token"></span><h4><a class="toc-backref" href="#id144">Refresh Tokens</a><a class="headerlink" href="#refresh-tokens" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any OAuth 2.0 Refresh Tokens that have been generated for this Account.</p>
<p><strong>refreshTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/refreshTokens/$REFRESH_TOKEN_ID</span></code></p>
<p><strong>refreshTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jwt</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The JSON Web Token.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">expandedJwt</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The embedded and expanded <a class="reference internal" href="#ref-jwt"><span>JSON Web Token</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account that this Access Token is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Application that this Access Token is associated with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant that this Access Token is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>refreshTokens Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/refreshTokens/6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-11-18T19:16:12.436Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJraWQiOiIyWkZNVjRXVlZDVkczNVhBVElJOVQ5Nko3IiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiI2VFZjbm5hQlhOd2JEQm4xbTI1WXJKIiwiaWF0IjoxNDQ3ODc0MTcyLCJpc3MiOiJodHRwczovL2FwaS5zdG9ybXBhdGguY29tL3YxL2FwcGxpY2F0aW9ucy8xZ2s0RHh6aTZvNFBiZGxCVmE2dGZSIiwic3ViIjoiaHR0cHM6Ly9hcGkuc3Rvcm1wYXRoLmNvbS92MS9hY2NvdW50cy8zYXBlbll2TDBaOXY5c3BkenBGZmV5IiwiZXhwIjoxNDQ4NDc4OTcyfQ.jwb8UYfmGeqGT42wUjB1ymZp6c4ofJaqdkM6ZHRG_tk&quot;</span><span class="p">,</span>
  <span class="nt">&quot;expandedJwt&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
      <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
      <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey&quot;</span><span class="p">,</span>
      <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1448478972</span>
    <span class="p">},</span>
    <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;jwb8UYfmGeqGT42wUjB1ymZp6c4ofJaqdkM6ZHRG_tk&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDn9R91R&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="expanded-json-web-token">
<span id="ref-jwt"></span><h4><a class="toc-backref" href="#id145">Expanded JSON Web Token</a><a class="headerlink" href="#expanded-json-web-token" title="Permalink to this headline">¶</a></h4>
<p><strong>expandedJwt Attributes</strong></p>
<p><em>Header</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">typ</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The type of Token.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">alg</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The hashing algorithm that is being used for this token. For JWT, this is HMAC-SHA-256.</td>
</tr>
</tbody>
</table>
<p><em>Claims</em> (AKA &#8220;Payload&#8221;)</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jti</span></code></td>
<td>String</td>
<td>Base62</td>
<td>A unique identifier for this JWT.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">iat</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The number of seconds since epoch (UTC) when the JWT was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">iss</span></code></td>
<td>String</td>
<td>A valid URL.</td>
<td>The fully qualified location of the Stormpath-registered Application resource for which the JWT was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sub</span></code></td>
<td>String</td>
<td>A valid URL.</td>
<td>The fully qualified Stormpath location of the Account resource that was successfully authenticated.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">exp</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The number of seconds since epoch (UTC) when the JWT will no longer be valid.</td>
</tr>
</tbody>
</table>
<p><em>Signature</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>signature</td>
<td>String</td>
<td>N/A</td>
<td>A hash of the header, claims, and the issuing server&#8217;s hashing secret.</td>
</tr>
</tbody>
</table>
<p><strong>expandedJwt Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
    <span class="nt">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
    <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
    <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlBVa6tfR&quot;</span><span class="p">,</span>
    <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdzpFfey&quot;</span><span class="p">,</span>
    <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1448478972</span>
  <span class="p">},</span>
  <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;jwb8UYfmGeqGT42wUjB1ymZp6c4ofJaqdkM6ZHRG_tk&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="custom-data">
<span id="ref-customdata"></span><h2>Custom Data<a class="headerlink" href="#custom-data" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id34">
<ul class="simple">
<li><a class="reference internal" href="#custom-data-operations" id="id151">Custom Data Operations</a><ul>
<li><a class="reference internal" href="#create-a-customdata" id="id152">Create a customData</a></li>
<li><a class="reference internal" href="#retrieve-a-customdata" id="id153">Retrieve a customData</a></li>
<li><a class="reference internal" href="#update-a-customdata" id="id154">Update a customData</a></li>
<li><a class="reference internal" href="#delete-a-customdata" id="id155">Delete a customData</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The customData resource is a schema-less map object that is automatically created at the same time as, and linked to, another Stormpath resource. It can currently be found alongside the following Stormpath resources:</p>
<ul class="simple">
<li>Tenant</li>
<li>Application</li>
<li>Directory</li>
<li>Group</li>
<li>Organization</li>
<li>Account</li>
</ul>
<p><strong>customData URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</span></code></p>
<p><strong>customData Attributes</strong></p>
<p>The customData resource has three reserved read-only fields:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
<p>You can store an unlimited number of additional name/value pairs in the customData resource, with the following restrictions:</p>
<ul class="simple">
<li>The total storage size of a single customData resource cannot exceed 10 MB (megabytes). The <code class="docutils literal"><span class="pre">href</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> field names and values do not count against your resource size quota.</li>
<li>Field names must:
- be 1 or more characters long, but less than or equal to 255 characters long (1 &lt;= N &lt;= 255).
- contain only alphanumeric characters (0-9 A-Z a-z), underscores or dashes, though they cannot start with a dash.
- may not equal any of the following reserved names: <code class="docutils literal"><span class="pre">href</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code>, <code class="docutils literal"><span class="pre">meta</span></code>, <code class="docutils literal"><span class="pre">spMeta</span></code>, <code class="docutils literal"><span class="pre">spmeta</span></code>, <code class="docutils literal"><span class="pre">ionmeta</span></code>, or <code class="docutils literal"><span class="pre">ionMeta</span></code>.</li>
</ul>
<p><strong>customData Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/customData&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-26T19:27:29.699Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;birthDate&quot;</span><span class="p">:</span><span class="s2">&quot;2305-07-13&quot;</span><span class="p">,</span>
  <span class="nt">&quot;birthPlace&quot;</span><span class="p">:</span><span class="s2">&quot;La Barre, France&quot;</span><span class="p">,</span>
  <span class="nt">&quot;currentAssignment&quot;</span><span class="p">:</span><span class="s2">&quot;USS Enterprise (NCC-1701-E)&quot;</span><span class="p">,</span>
  <span class="nt">&quot;favoriteDrink&quot;</span><span class="p">:</span><span class="s2">&quot;Earl Grey tea&quot;</span><span class="p">,</span>
  <span class="nt">&quot;rank&quot;</span><span class="p">:</span><span class="s2">&quot;Captain&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="custom-data-operations">
<span id="customdata-operations"></span><h3><a class="toc-backref" href="#id151">Custom Data Operations</a><a class="headerlink" href="#custom-data-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id35">
<ul class="simple">
<li><a class="reference internal" href="#create-a-customdata" id="id156">Create a customData</a></li>
<li><a class="reference internal" href="#retrieve-a-customdata" id="id157">Retrieve a customData</a></li>
<li><a class="reference internal" href="#update-a-customdata" id="id158">Update a customData</a></li>
<li><a class="reference internal" href="#delete-a-customdata" id="id159">Delete a customData</a></li>
</ul>
</div>
<div class="section" id="create-a-customdata">
<h4><a class="toc-backref" href="#id156">Create a customData</a><a class="headerlink" href="#create-a-customdata" title="Permalink to this headline">¶</a></h4>
<p>Whenever you create an Stormpath resource, an empty customData resource is created for that resource automatically – you do not need to explicitly execute a request to create it.</p>
<p>However, it is often useful to populate custom data at the same time you create a resource. You can do this by embedding the customData directly in the resource. For an example, see <a class="reference internal" href="#accnt-create-with-customdata"><span>below</span></a>.</p>
</div>
<div class="section" id="retrieve-a-customdata">
<h4><a class="toc-backref" href="#id157">Retrieve a customData</a><a class="headerlink" href="#retrieve-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Retrieves the specified resource&#8217;s&#8216; customData resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-customdata">
<h4><a class="toc-backref" href="#id158">Update a customData</a><a class="headerlink" href="#update-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-customdata">
<h4><a class="toc-backref" href="#id159">Delete a customData</a><a class="headerlink" href="#delete-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Deletes the specified customData resource.</td>
</tr>
<tr class="row-odd"><td>DELETE /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData/$FIELD_NAME</td>
<td><code class="docutils literal"><span class="pre">&quot;$FIELD_NAME&quot;:</span> <span class="pre">null</span></code></td>
<td>Deletes only the specified Custom Data field. You must specify the value of the field as <code class="docutils literal"><span class="pre">null</span></code> in order for the call to succeed.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Deleting a customData resource still leaves an empty customData placeholder resource.</p>
</div>
<div class="section" id="id36">
<h5>Example Queries<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h5>
<p id="accnt-create-with-customdata"><strong>Create an Account and simultaneously populate its custom data</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request GET \
--user $API_KEY_ID:$API_KEY_SECRET \
--header &#39;content-type: application/json&#39; \
--url &quot;https://api.stormpath.com/v1/directories/WpM9nyZ2TbaEzfbexaMPLE/accounts&quot;
--data &#39;{
         &quot;username&quot; : &quot;jlpicard&quot;,
         &quot;email&quot; : &quot;capt@enterprise.com&quot;,
         &quot;givenName&quot; : &quot;Jean-Luc&quot;,
         &quot;middleName&quot; : &quot;&quot;,
         &quot;surname&quot; : &quot;Picard&quot;,
         &quot;password&quot; : &quot;uGhd%a8Kl!&quot;
         &quot;status&quot; : &quot;ENABLED&quot;,
         &quot;customData&quot;: {
          &quot;birthDate&quot;:&quot;2305-07-13&quot;,
          &quot;birthPlace&quot;:&quot;La Barre, France&quot;,
          &quot;currentAssignment&quot;:&quot;USS Enterprise (NCC-1701-E)&quot;,
          &quot;favoriteDrink&quot;:&quot;Earl Grey tea&quot;,
          &quot;rank&quot;:&quot;Captain&quot;
         }
}
</pre></div>
</div>
<p>This query would create an Account with the attribute values and custom data specified.</p>
<p><strong>Delete a single field from within a customData resource</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>curl --request POST <span class="se">\</span>
--user <span class="nv">$API_KEY_ID</span>:<span class="nv">$API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts/cJoiwcorTTmkDDBsf02bAb/customData&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">    &quot;favoriteColor&quot;: null</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would delete only the <code class="docutils literal"><span class="pre">favoriteColor</span></code> field from this customData resource.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="008_idsite.html" class="btn btn-neutral" title="8. Using ID Site"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>