

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. Authorization With Stormpath &mdash; Stormpath 0.0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="top" title="Stormpath 0.0.1 documentation" href="index.html"/>
        <link rel="next" title="7. Multi-Tenancy with Stormpath" href="007_multitenancy.html"/>
        <link rel="prev" title="5. Authenticating Accounts with Stormpath" href="005_auth_n.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="001_about.html">1. About Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="001_about.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="001_about.html#the-stormpath-data-model">The Stormpath Data Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="002_setup.html">2. First-Time Set-Up</a><ul>
<li class="toctree-l2"><a class="reference internal" href="002_setup.html#a-sign-up-for-stormpath">a. Sign-up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_setup.html#b-create-an-api-key-pair">b. Create an API Key Pair</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="003_quickstart.html">3. Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#retrieve-your-application">Retrieve your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#create-a-user-account">Create a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#authenticate-a-user-account">Authenticate a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="004_accnt_mgmt.html">4. Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#a-modeling-your-user-base">a. Modeling Your User Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#b-how-to-store-accounts-in-stormpath">b. How to Store Accounts in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#c-how-to-search-accounts">c. How to Search Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#d-how-to-manage-an-account-s-password">d. How to Manage an Account&#8217;s Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#e-how-to-verify-an-account-s-email">e. How to Verify an Account&#8217;s Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_accnt_mgmt.html#f-customizing-stormpath-emails-via-rest">f. Customizing Stormpath Emails via REST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="005_auth_n.html">5. Authenticating Accounts with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#a-how-password-authentication-works-in-stormpath">a. How Password Authentication Works in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#b-how-token-based-authentication-works">b. How Token-Based Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#c-how-social-authentication-works">c. How Social Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_auth_n.html#d-authenticating-against-a-mirrored-ldap-directory">d. Authenticating Against a Mirrored LDAP Directory</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">6. Authorization With Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-what-is-authorization">a. What is Authorization?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#b-modeling-authorization-in-stormpath">b. Modeling Authorization in Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="007_multitenancy.html">7. Multi-Tenancy with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#a-what-is-a-multi-tenant-application">a. What Is a Multi-Tenant Application?</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#b-modeling-tenants-in-stormpath">b. Modeling Tenants in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_multitenancy.html#c-authenticating-an-account-against-an-organization">c. Authenticating an Account against an Organization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="008_idsite.html">8. Using ID Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#a-what-is-an-id-site">a. What is an ID Site?</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#b-how-does-id-site-work">b. How does ID Site Work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#c-id-site-set-up">c. ID Site Set Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_idsite.html#using-id-site-without-an-sdk">Using ID Site Without an SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">REST API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference.html#rest-api-core-concepts">REST API Core Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#tenant">Tenant</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#application">Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#account-store-mapping">Account Store Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#directory">Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#group">Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#group-membership">Group Membership</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#organization">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#account">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#custom-data">Custom Data</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>6. Authorization With Stormpath</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/006_auth_z.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <blockquote>
<div></div></blockquote>
<div class="section" id="authorization-with-stormpath">
<span id="authz"></span><h1>6. Authorization With Stormpath<a class="headerlink" href="#authorization-with-stormpath" title="Permalink to this headline">¶</a></h1>
<p>This section will provide you with a quick introduction to Authorization with Stormpath. It begins by answering the question &#8220;What is authorization?&#8221;, including the difference between simple authorization checks and permissions-based authorization. It then describes some approaches to modeling authorization in Stormpath. Those include: using the Group resource to model roles, expanding those roles to cover every tenant in your application, and finally how to create fine-grained permissions.</p>
<div class="section" id="a-what-is-authorization">
<h2>a. What is Authorization?<a class="headerlink" href="#a-what-is-authorization" title="Permalink to this headline">¶</a></h2>
<p>Authorization is simply the way in which we determine the permissions someone has to do something. In contrast to authentication, which is how we determine who a person is, <strong>authorization</strong> is how we determine <strong>what a person can do</strong>. Going back to the airport example from the last chapter, Perhaps the most accessible example of this process is at the airport, once a security person has checked your passport to make sure that you are who you say you are, a separate person later checks that you are allowed to actually board a specific flight.</p>
<p>Once a user has entered in a valid login and password (authentication), there are the permission checks (authorization) that can be performed which dictate what access rights they have to your system resources. Going back to our airport scenario, once you have proven who you are with your passport, the airline also checks that you are permitted to board the plane by checking that you have a valid boarding pass.</p>
<p>One distinction, though, is whether the permission is attached to the user, or to the resource that they are accessing. Put differently, part of modeling authorization is determining whether you will define a permission around your users, or around the resources that they are accessing. To go back to our airport scenario, we can imagine the airline has two options.</p>
<div class="section" id="i-simple-authorization">
<h3>i. Simple Authorization<a class="headerlink" href="#i-simple-authorization" title="Permalink to this headline">¶</a></h3>
<p>First, the airline can have at the gate a master list of all passengers who are allowed to board the plane. This is equivalent to hard-coding permission checks into your application, and then tying them in some way to a user. This means that your authorization logic can be based on checks of a user&#8217;s particular identity (e.g. <code class="docutils literal"><span class="pre">if</span> <span class="pre">(user(&quot;jsmith&quot;)</span> <span class="pre">{...</span></code>) or their membership in a particular Group (e.g. <code class="docutils literal"><span class="pre">if</span> <span class="pre">(user.group(&quot;passengers&quot;)</span> <span class="pre">{...</span></code>).  This simple authorization is perfectly sufficient for many applications, but has some downsides. One downside is that it can result in authorization rules that are much difficult to change dynamically. Another downside is that any change in authorization rules can end-up requiring a lot of refactoring of code, test cases, etc. A more dynamic and powerful way of handling authorization is through the use of permissions.</p>
</div>
<div class="section" id="ii-permissions-based-authorization">
<h3>ii. Permissions-based Authorization<a class="headerlink" href="#ii-permissions-based-authorization" title="Permalink to this headline">¶</a></h3>
<p>Permissions, at their most basic, are statements of functionality that define a resource and what actions are possible for that resource. Going back to our airport scenario, an alternative to the boarding master list is that the airline sets a requirement: every passenger who wants to board the plan must bring a boarding pass. This pass comes with permission to perform the &#8220;board&#8221; action onto a specific flight number. So now, instead of basing authorization around a particular user identifier, we could require a certain permission to perform an action on a resource (e.g. <code class="docutils literal"><span class="pre">if</span> <span class="pre">(user.isPermitted(&quot;flight:board:ac232&quot;))</span></code>). This approach has many advantages, including more flexibility with regards to your security model, and separating your application logic from your data model.</p>
</div>
</div>
<div class="section" id="b-modeling-authorization-in-stormpath">
<h2>b. Modeling Authorization in Stormpath<a class="headerlink" href="#b-modeling-authorization-in-stormpath" title="Permalink to this headline">¶</a></h2>
<p>From the perspective of a REST API, Stormpath only serves as the repository for authorization data. Authorization enforcement must happen on the client-side, and one of the many <a class="reference external" href="https://docs.stormpath.com/home/">Stormpath SDKs and integrations</a> can help you with this. In this section we will discuss how to model the authorization data which is extremely important to your overall security model.</p>
<div class="section" id="i-how-to-use-groups-to-model-authorization-roles">
<span id="role-groups"></span><h3>i. How to Use Groups to Model Authorization Roles<a class="headerlink" href="#i-how-to-use-groups-to-model-authorization-roles" title="Permalink to this headline">¶</a></h3>
<p>The Group resource is central to many of the more advanced forms of authorization available with Stormpath. Among other things, you can use Groups for things like <a class="reference internal" href="004_accnt_mgmt.html#hierarchy-groups"><span>modelling hierarchies</span></a>, as well as creating user roles that span every organization that is using your application.</p>
<p>As we have already said, you can think of Groups as labels applied to Accounts via the GroupMembership resource. They can be used to organize users, like having all Accounts belonging to users from Tatooine associated with a &#8220;Tatooine&#8221; user Group resource. However, much in the same way that a label can be used to define an officer&#8217;s rank (and thereby what he is authorized to do), Groups can also be used to model &#8220;roles&#8221; in Stormpath for the purposes of role-based access control. If we associate an Account with a certain role Group, then that Account will have all the authorizations defined for that Group. Moreover, if an Account is associated with multiple Groups then it will inherit authorization from all of them.</p>
<p>Note that when we say &#8220;user Group&#8221; and &#8220;role Group&#8221; we are not discussing two different types of Group resources here, but just pointing out that the Group resource has multiple applications. So that &#8220;Tatooine&#8221; Group could be used to organize all Accounts for users residing on Tatooine, but it could also come with some sort of authorization permissions associated with it as well. A more common scenario would be having a Group called  &#8220;administrators&#8221;, and that could be used to organize everyone with the permissions required for an administrator in your application.</p>
<p>Also roles do not require you to use permissions-based authorization. You can still include checks in your code along the lines of <code class="docutils literal"><span class="pre">if</span> <span class="pre">(user.group(&quot;authRole&quot;)</span> <span class="pre">{...</span></code>.</p>
<p>Now that we have some understanding of authorization roles in Stormpath, we can discussion another powerful use of Stormpath&#8217;s flexible data model.</p>
<div class="section" id="application-wide-roles">
<h4>Application-Wide Roles<a class="headerlink" href="#application-wide-roles" title="Permalink to this headline">¶</a></h4>
<p>In a multi-tenant SaaS application, it is easy to imagine a scenario where you might want to have user Accounts segregated based upon the tenant that they belong to, while at the same time defining authorization based on broader, application-wide roles. In Stormpath, we recommended that you model every tenant that uses your Application using the <strong>Organization</strong> resource. The Organization resource is a container for Directory resources that makes it easier to model user bases with multiple tenants. For more information about this, please see the <a class="reference internal" href="007_multitenancy.html#multitenancy"><span>multi-tenancy chapter</span></a>.</p>
<p>Alongside these Organizations, it is also possible to define application-wide Groups that allow for roles that span across Organizations, regardless of where a user&#8217;s Account is found.</p>
<p>An example: So let&#8217;s assume that your &#8220;InterGalactic Banking&#8221; application must support multiple tenants for each of the bank&#8217;s subsidiaries (&#8220;Bank of Aargau&#8221;, &#8220;InterGalactic Bank of Kuat&#8221;, etc), each modeled as an Organization resource. Each of those subsidiaries, in turn, could contain a Directory resource for each of its branches, and each branch could have departmental Groups. However, you can still define roles that span the entire &#8220;InterGalactic Banking&#8221; application, regardless of which tenant (Organization), branch (Directory), or department (Group) the Account is associated with.</p>
<p>For example, your Application could have &#8220;Teller&#8221; and &#8220;Bank Administrator&#8221; roles for all of your Application&#8217;s users. All this requires is that you create two Groups and assign the users you want to those Groups. Any Account, regardless of the Organization, Directory, or Group that they are assigned to, can also be assigned to the &#8220;Teller&#8221; or &#8220;Bank Administrator&#8221; Group.</p>
<p>The actual authorization checks that you do here are irrelevant, so you can still use what we have called &#8220;simple authorization&#8221; with these roles, or you can use permission-based authorization checks.</p>
<p>More information about the APIs that allow you to create, retrieve and search an Application&#8217;s groups can be found in the the <a class="reference internal" href="004_accnt_mgmt.html#group-mgmt"><span>Account Management section</span></a>, while more information about multi-Tenancy can be found <a class="reference internal" href="007_multitenancy.html#multitenancy"><span>in the multi-tenancy section</span></a>.</p>
</div>
</div>
<div class="section" id="ii-using-permissions">
<h3>ii. Using Permissions<a class="headerlink" href="#ii-using-permissions" title="Permalink to this headline">¶</a></h3>
<p>If you have decided that your application requires the more advanced authorization modelling possible with permissions, then the first question with every permission is whether it will be tied to an Account or a Group.</p>
<p><strong>User-unique permissions:</strong> Any permissions that are are unique to a user should be tied to that user&#8217;s Account resource.</p>
<p><strong>Role permissions:</strong> Permissions that will be shared among a number of users are better bundled together in roles, that is Groups, which many individual Accounts while be associated to.</p>
<p>The next question is: what will your permissions look like?</p>
<div class="section" id="how-to-model-fine-grained-permissions">
<span id="custom-perms"></span><h4>How to Model Fine-Grained Permissions<a class="headerlink" href="#how-to-model-fine-grained-permissions" title="Permalink to this headline">¶</a></h4>
<p>Stormpath also gives you an enormous amount of flexibility with what these permissions look like. A permission in Stormpath can be as simple as:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;create_admin&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or as complex as:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;create-admin&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This permission allows the account to create an admin&quot;</span>
  <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;read&quot;</span><span class="p">,</span>
  <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;/admin/create&quot;</span><span class="p">,</span>
  <span class="nt">&quot;effect&quot;</span><span class="p">:</span> <span class="s2">&quot;allow&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>How is this flexibility possible? Two words: Custom Data.</p>
<p>As mentioned earlier, Stormpath resources like Accounts and Groups are created along with a linked <a class="reference internal" href="reference.html#ref-customdata"><span>customData</span></a> resource. This resource is very useful for implementing both Account permissions and role (AKA Group) permissions. Essentially, any user-level permissions are defined in a <code class="docutils literal"><span class="pre">customData</span></code> resource linked to a user Account, while any role-level permissions are defined in a <code class="docutils literal"><span class="pre">customData</span></code> resource linked to a role Group. This allows for Stormpath to model user-unique permissions as well as permissions inherited by virtue of a user having one (or more) roles.</p>
<p>Permissions in Stormpath can be modeled as an array inside the <code class="docutils literal"><span class="pre">customData</span></code> resource. They can be as simple as a key-value pair, or more complex objects. A user Account could have their user-unique permissions defined in a <code class="docutils literal"><span class="pre">customData</span></code> resource linked to from their Account. At the same time, their Account would be linked to the application-wide &#8220;Admin&#8221; Group which would have its own linked <code class="docutils literal"><span class="pre">customData</span></code> resource that would contain definitions of the permissions of all the users with the Admin role in your application.</p>
<p>For more information about adding customData to a user, please see the <a class="reference internal" href="004_accnt_mgmt.html#add-user-customdata"><span>Account Management section</span></a>. And to find out all the different things you can do with customData please see the <a class="reference external" href="http://docs.stormpath.com/rest/product-guide/#custom-data">Product Guide</a>.</p>
</div>
<div class="section" id="checking-user-and-role-permissions">
<h4>Checking User and Role Permissions<a class="headerlink" href="#checking-user-and-role-permissions" title="Permalink to this headline">¶</a></h4>
<p>Since authorization enforcement is handled by <a class="reference external" href="https://docs.stormpath.com/home/">one of Stormpath&#8217;s integrations</a>, the primary usefulness of the REST API is in retrieving a user&#8217;s permissions. These permissions can either be found in the customData tied a the user (i.e. the Account resource) or to their role (i.e. a Group resource associated to the Account).</p>
<div class="section" id="checking-user-permissions">
<h5>Checking User Permissions<a class="headerlink" href="#checking-user-permissions" title="Permalink to this headline">¶</a></h5>
<p>To check a user&#8217;s unique permissions, you must retrieve their Account&#8217;s customData. You can do this in one of two ways:</p>
<p>You can either retrieve the Account along with the expanded customData, by sending an HTTP GET to:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID?expand=customData
</pre></div>
</div>
<p>This will return the Account resource along with the expanded customData:</p>
<div class="highlight-json"><div class="highlight"><pre>HTTP/1.1 200 OK
Location: https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spExAMpLe
Content-Type: application/json;charset=UTF-8

{
  &quot;href&quot;: &quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spExAMpLe&quot;,
  &quot;username&quot; : &quot;jlpicard&quot;,
  &quot;email&quot; : &quot;capt@enterprise.com&quot;,
  &quot;givenName&quot; : &quot;Jean-Luc&quot;,
  &quot;surname&quot; : &quot;Picard&quot;,
  &quot;customData&quot;: {
    &quot;permissions&quot;: {
      &quot;crew_quarters&quot;: &quot;&amp;nbsp;9-3601&quot;,
      &quot;lock_override&quot;: &quot;all&quot;,
      &quot;command_bridge&quot;: {
        &quot;type&quot;: &quot;vessel:bridge&quot;,
        &quot;identifier&quot;: &quot;NCC-1701-D&quot;,
        &quot;action&quot;: &quot;lockout&quot;,
        &quot;control_key&quot;: &quot;173467321476C32789777643T732V73117888732476789764376&quot;
      }
    }
  }
}
</pre></div>
</div>
<p>Or you can retrieve only the customData by sending a GET to:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID/customData
</pre></div>
</div>
<p>Which would return only the customData:</p>
<div class="highlight-json"><div class="highlight"><pre>HTTP/1.1 200 OK
Location: https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spExAMpLe/customData
Content-Type: application/json;charset=UTF-8

{
  &quot;href&quot;: &quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spExAMpLe/customData&quot;
  &quot;permissions&quot;: {
    &quot;crew_quarters&quot;: &quot;&amp;nbsp;9-3601&quot;,
    &quot;lock_override&quot;: &quot;all&quot;,
    &quot;command_bridge&quot;: {
      &quot;type&quot;: &quot;vessel:bridge&quot;,
      &quot;identifier&quot;: &quot;NCC-1701-D&quot;,
      &quot;action&quot;: &quot;lockout&quot;,
      &quot;control_key&quot;: &quot;173467321476C32789777643T732V73117888732476789764376&quot;
    }
  }
}
</pre></div>
</div>
</div>
<div class="section" id="checking-role-permissions">
<h5>Checking Role Permissions<a class="headerlink" href="#checking-role-permissions" title="Permalink to this headline">¶</a></h5>
<p>This would work in much the same way as checking the permissions for a user&#8217;s Account. You would first need to retrieve their associated Groups, for example by sending a GET to:</p>
<div class="highlight-python"><div class="highlight"><pre>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID/groups
</pre></div>
</div>
<p>From here, you can retrieve the Group&#8217;s customData in the same way as you did with users. That is by sending a GET with either a <code class="docutils literal"><span class="pre">?expand=customData</span></code> or to the <code class="docutils literal"><span class="pre">/customData</span></code> endpoint.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="007_multitenancy.html" class="btn btn-neutral float-right" title="7. Multi-Tenancy with Stormpath">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="005_auth_n.html" class="btn btn-neutral" title="5. Authenticating Accounts with Stormpath"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>