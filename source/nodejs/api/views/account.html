<h2 id="account">Account</h2><p>An Account is a unique identity within a <a href="directory">Directory</a>, with a unique username and/or email address. An Account can log in to an <a href="application">Application</a> using either the email address or username associated with it. Accounts can represent your end users (<em>people</em>), but they can also be used to represent services, daemons, processes, or any &quot;entity&quot; that needs to login to a Stormpath-powered application.</p><p>Additionally, an Account may only exist in a single Directory and may be in multiple Groups owned by that Directory. Accounts may not be assigned to groups within other directories.</p><p>It should be noted that the words &quot;User&quot; and &quot;Account&quot; usually mean the same thing, but there is a subtle difference that can be important at times:</p><ul><li>An Account is a unique identity within a Directory. An Account can exist in only a single Directory but can be a part of multiple groups owned by that Directory.</li><li>When an Account is granted access to an Application (<em>by <a href="http://docs.stormpath.com/rest/product-guide/#account-store-mappings" title="Stormpath Account Store Mappings">mapping a Directory or Group</a> that contains the Account to the Application</em>), it becomes a &quot;User&quot; of that Application.</li></ul><p>Therefore an Account can be called a &quot;User&quot; of an Application if/when it can log into the Application.</p><p>An Account resource has predefined fields that are useful to many applications, but you are likely to have your own custom data that you need to associate with an Account as well. You can create your own custom data fields when creating an Account with <a href="application#createAccount">application.createAccount</a> or <a href="directory#createAccount">directory.createAccount</a>. Custom data can be set directly on an Account resource or independently.</p><p><strong>Since</strong>: 0.1</p><hr><p><a name="addToGroup"></a></p><h3 id="-span-class-member-method-span-addtogroup-grouporgrouphref-options-callback-"><span class="member">method</span> addToGroup(groupOrGroupHref, <em>[options,]</em> callback)</h3><p>Adds the Account to the specified <a href="group">Group</a>. The Group must have already been persisted - new groups cannot be created via this method.</p><h4 id="usage">Usage</h4><p>You may specify a Group directly:</p><pre><code class="lang-javascript">account.addToGroup(group, function(err, membership) {
  console.log(membership);
});</code></pre><p>Or just an group&#39;s <code>href</code>:</p><pre><code class="lang-javascript">account.addToGroup(groupHref, function(err, membership) {
  console.log(membership);
});</code></pre><p>In both cases, the <a href="groupMembership">GroupMembership</a> representing the group-to-account association will be provided to the callback as the callback&#39;s second parameter. You can obtain either the Group or the Account via <code>membership.group</code> or <code>membership.account</code>, respectively.</p><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><code>groupOrGroupHref</code></td><td><code>object</code> or <code>string</code></td><td>required</td><td>Either a previously-persisted <a href="group">Group</a> resource or the <code>href</code> string of a previously-persisted group.</td><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for returned resource reference expansion.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon server response. The 1st parameter is an <a href="resourceError">error</a>. The 2nd parameter is the <a href="groupMembership">GroupMembership</a> that reflects the group-to-account association. You can obtain either the group or the account via <code>membership.group</code> or &#39;membership.account`, respectively.</td></table><h4 id="returns">Returns</h4><p>If the association fails, the callback&#39;s first parameter (<code>err</code>) will report the failure. If the association succeeds, the <a href="groupMembership">GroupMembership</a> will be provided to the <code>callback</code> as the callback&#39;s second parameter. You can obtain either the Group or the Account via <code>membership.group</code> or <code>membership.account</code>, respectively.</p><hr><p><a name="getGroups"></a></p><h3 id="-span-class-member-method-span-getgroups-options-callback-"><span class="member">method</span> getGroups(<em>[options,]</em> callback)</h3><p>Retrieves a <a href="collectionResource">collection</a> of the account&#39;s assigned <a href="group">Group</a>s and provides the collection to the specified <code>callback</code>.</p><p>If no options are specified, all of the account&#39;s groups are retrieved. If options (<em>query parameters</em>) are specified for a search, only those groups matching the search will be retrieved. If the search does not return any results, the collection will be empty.</p><h4 id="usage">Usage</h4><p>If you want to retrieve <em>all</em> of the account&#39;s groups:</p><pre><code class="lang-javascript">account.getGroups(function(err, groups) {
  groups.each(function(group) {
    console.log(group);
  });
});</code></pre><p>As you can see, the <a href="collectionResource">Collection</a> provided to the <code>callback</code> has an <code>each</code> function that accepts its own callback. The collection will iterate over all of the groups in the collection, and invoke the callback for each one.</p><p>If you don&#39;t want all groups, and only want specific ones, you can search for them by specifying the <em>options</em> argument with <a href="http://docs.stormpath.com/rest/product-guide/#account-groups" title="Stormpath Account Groups">account group</a> search query parameters:</p><pre><code class="lang-javascript">account.getGroups({name: &#39;*bar*&#39;}, function(err, groups) {
  groups.each(function(account) {
    console.log(account);
  });
});</code></pre><p>The above code example would only print out the account&#39;s groups with the text fragment <code>bar</code> in their name. See the <a href="http://docs.stormpath.com/rest/product-guide/#account-groups" title="Stormpath Account Group Documentation">account group documentation</a> for other supported query parameters, such as reference expansion.</p><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#account-groups">account group</a> search or reference expansion.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is a <a href="collectionResource">collection</a> containing zero or more <a href="group">Group</a> resources.</td></table><h4 id="returns">Returns</h4><p>The retrieved collection of <a href="group">Group</a>s will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr><p><a name="getGroupMemberships"></a></p><h3 id="-span-class-member-method-span-getgroupmemberships-options-callback-"><span class="member">method</span> getGroupMemberships(<em>[options,]</em> callback)</h3><p>Retrieves a <a href="collectionResource">collection</a> of the account&#39;s <a href="groupMembership">GroupMembership</a>s and provides the collection to the specified <code>callback</code>.</p><p>If no options are specified, all of the account&#39;s groupMemberships are retrieved. If options (<em>query parameters</em>) are specified for expansion, the returned memberships will have references expanded as necessary.</p><h4 id="usage">Usage</h4><p>If you want to retrieve all of the group&#39;s memberships/associations:</p><pre><code class="lang-javascript">account.getGroupMemberships(function(err, memberships) {
  memberships.each(function(membership) {
    console.log(membership);
  });
});</code></pre><p>As you can see, the <a href="collectionResource">Collection</a> provided to the <code>callback</code> has an <code>each</code> function that accepts its own callback. The collection will iterate over all of the memberships in the collection, and invoke the callback for each one.</p><p>If you want the returned memberships to have their groups expanded (<em>so you can access the membership and its associated group</em>), you can specify an <code>expand</code> query parameter:</p><pre><code class="lang-javascript">account.getGroupMemberships({expand: &#39;group&#39;}, function(err, memberships) {
  memberships.each(function(membership) {
    console.log(membership);
    console.log(membership.group);
  });
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for reference expansion.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is a <a href="collectionResource">collection</a> containing zero or more <a href="groupMembership">GroupMembership</a> resources.</td></table><h4 id="returns">Returns</h4><p>The retrieved <a href="collectionResource">collection</a> of the account&#39;s <a href="groupMembership">GroupMembership</a>s will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr><p><a name="getDirectory"></a></p><h3 id="-span-class-member-method-span-getdirectory-options-callback-"><span class="member">method</span> getDirectory(<em>[options,]</em> callback)</h3><p>Retrieves the account&#39;s parent <a href="directory">Directory</a> and provides it to the specified <code>callback</code>.</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">account.getDirectory(function(err, directory) {
  console.log(directory);
});</code></pre><p>You can also use <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion" title="Stormpath Resource Expansion">resource expansion</a> options (<em>query params</em>) to obtain linked resources in the same request:</p><pre><code class="lang-javascript">account.getDirectory({expand:&#39;groups&#39;}, function(err, directory) {
  console.log(directory);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion">resource expansion</a>.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is the retrieved <a href="directory">Directory</a> resource.</td></table><h4 id="returns">Returns</h4><p>The retrieved <a href="directory">Directory</a> resource will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr><p><a name="getTenant"></a></p><h3 id="-span-class-member-method-span-gettenant-options-callback-"><span class="member">method</span> getTenant(<em>[options,]</em> callback)</h3><p>Retrieves the account&#39;s owning <a href="tenant">Tenant</a> and provides it to the specified <code>callback</code>.</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">account.getTenant(function(err, tenant) {
  console.log(tenant);
});</code></pre><p>You can also use <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion" title="Stormpath Resource Expansion">resource expansion</a> options (<em>query params</em>) to obtain linked resources in the same request:</p><pre><code class="lang-javascript">account.getTenant({expand:&#39;applications&#39;}, function(err, tenant) {
  console.log(tenant);
  tenant.applications.each(function(application) {
    console.log(application);
  });
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion">resource expansion</a>.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is the retrieved <a href="tenant">Tenant</a> resource.</td></table><h4 id="returns">Returns</h4><p>The retrieved <code>Tenant</code> resource will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr><p><a name="getCustomData"></a></p><h3 id="-span-class-member-method-span-getcustomdata-options-callback-"><span class="member">method</span> getCustomData(<em>[options,]</em> callback)</h3><p>Retrieves the <a href="customData">CustomData</a> resource of the <code>Account</code>&#39;s assigned <code>CustomData</code> and provides it to the specified <code>callback</code>.</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">account.getCustomData(function(err, customData) {
  console.log(customData);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>An object literal of name/value pairs to use as query parameters, for example, <a href="http://docs.stormpath.com/rest/product-guide/#account-retrieve">resource expansion</a>.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is the retrieved <a href="customData">CustomData</a> resource.</td></table><h4 id="returns">Returns</h4><p>The retrieved <code>CustomData</code> resource will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr><p><a name="getProviderData"></a></p><h3 id="-span-class-member-method-span-getproviderdata-options-callback-"><span class="member">method</span> getProviderData(<em>[options,]</em> callback)</h3><p>Retrieves the account&#39;s <code>providerData</code> information and provides it to the specified <code>callback</code>. If <code>providerData</code> not set, <code>callback</code> will be called without parameters</p><h4 id="usage">Usage</h4><pre><code class="lang-javascript">account.getProviderData(function(err, providerData) {
  console.log(providerData);
});</code></pre><h4 id="parameters">Parameters</h4><table class="table table-striped table-hover table-curved"><thead><tr><th>Parameter</th><th>Type</th><th>Presence</th><th>Description</th><th></th><tbody><tr><td><em><code>options</code></em></td><td><code>object</code></td><td><em>optional</em></td><td>Name/value pairs to use as query parameters, for example, for <a href="http://docs.stormpath.com/rest/product-guide/#link-expansion">resource expansion</a>.</td><tr><td><code>callback</code></td><td>function</td><td>required</td><td>The callback to execute upon resource retrieval. The 1st parameter is an <code>Error</code> object. The 2nd parameter is the retrieved <code>ProviderData</code> resource.</td></table><h4 id="returns">Returns</h4><p>The retrieved <code>providerData</code> resource will be provided to the <code>callback</code> as the callback&#39;s second parameter.</p><hr>